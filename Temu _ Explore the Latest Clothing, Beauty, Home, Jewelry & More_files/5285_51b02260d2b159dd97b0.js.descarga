(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5285],{37818:function(e){e.exports={GoodsSkeletonWrapper:"GoodsSkeletonWrapper-1ek8u",goodsSkeletonImgContainer:"goodsSkeletonImgContainer-3YXja",skeletonImgContainer:"skeletonImgContainer-24zMO",goodsSkeletonName:"goodsSkeletonName-g8QyZ",skcSkeleton:"skcSkeleton-3z7Cv",skeletonSaleInfo:"skeletonSaleInfo-x7_KN",quickLookAndAttributesTags:"quickLookAndAttributesTags-zQtjA",attributesTag:"attributesTag-16u27",attributesWrap:"attributesWrap-2VBBA",minWidth:"minWidth-1mUHZ",goodsWrapper:"goodsWrapper-rOnMF",noHover:"noHover-2kHaA",showCategoryCard:"showCategoryCard-DjcTL",quickLook:"quickLook-3BhQ6",hoverThemeDefault:"hoverThemeDefault-cUAur",FadeIn:"FadeIn-8C3JC",hoverThemeScale:"hoverThemeScale-1G1VT",goodsImgContainer:"goodsImgContainer-3880I",goodsImg:"goodsImg-2FWCs",goodsImgWithFullHeight:"goodsImgWithFullHeight-2d9HL",masker:"masker-xRMDI",loadingBall:"loadingBall-eV3aA",ballItem:"ballItem-1c5wU",ballBreath:"ballBreath-25DOP",watermark:"watermark-3l1zd",noImgContainer:"noImgContainer-Y41XX",nameAndAvatar:"nameAndAvatar-1u9Uv",flexContainer:"flexContainer-1jwk9",marketPriceAndSales:"marketPriceAndSales-3o8sO",discountPrice:"discountPrice-1FqKm",unitPrefix:"unitPrefix-RV8DH",unitSuffix:"unitSuffix-3RyHK",priceText:"priceText-1l8dH",marketPrice:"marketPrice-Ff3dr",reductionText:"reductionText-3CXUK",saleInfo:"saleInfo-21nMm",saleInfoL:"saleInfoL-1kMLf",saleInfoR:"saleInfoR-3hs1Q",noCart:"noCart-3-hLX",item:"item-20FJP",saleText:"saleText-31g9K",saleNum:"saleNum-NwHKF",placeHolder:"placeHolder-EXXpL",goodsTags:"goodsTags-2lbga",tag:"tag-2f6uz",rateContainer:"rateContainer-3X8K_",commentNum:"commentNum-1IzE7",brandTagIcon:"brandTagIcon-2kTKN",brandTags:"brandTags-4_qk7",cardWrap:"cardWrap-_PRvD",videoIconUrl:"videoIconUrl-3VTuL",cartPlaceholder:"cartPlaceholder-1GusL",cartBtn:"cartBtn-1taUz",bottomTips:"bottomTips-3iXUW",personalizationTag:"personalizationTag-2z_V2",img:"img-1mxAg",text:"text-KtyJg",billboardTagWrap:"billboardTagWrap-1C9UU",topTipWrap:"topTipWrap-1hLuD",topTipContent:"topTipContent-E8-In",topTip:"topTip-1H4dl",goodsTagSeat:"goodsTagSeat-2ZfYT",multiImgFadeAniEnable:"multiImgFadeAniEnable-Qws6D",secFadeAni:"secFadeAni-2V19I",comment:"comment-38A-6",promotionTagDiscount:"promotionTagDiscount-3F48L",promotionPrise:"promotionPrise-1g4vx",promotionText:"promotionText-X9lHy",promotionTextScale:"promotionTextScale-1YoeI",nameWrap:"nameWrap-e4OGP",fadeOut:"fadeOut-1dsQ4"}},28549:function(e){e.exports={listEnd:"listEnd-3R_jN"}},62599:function(e){e.exports={loading:"loading-kC62C",icon:"icon-1BP9q",text:"text-1mM43"}},67258:function(e){e.exports={bg:"bg-1DJ9o"}},59910:function(e){e.exports={loadMoreWrap:"loadMoreWrap-1iMzd",cardWrap:"cardWrap-34A6U"}},80629:function(e){e.exports={title:"title-2ae0E",cardWrap:"cardWrap-345tX",autoFitList:"autoFitList-1NDyc"}},29554:function(e){e.exports={tagWrap:"tagWrap-RLzBq",s:"s-23aic",img:"img-1TJJb"}},50232:function(e){e.exports={arrowWrap:"arrowWrap-6A3Oq",arrowLeft:"arrowLeft-3nyDB",arrowRight:"arrowRight-2ehRn",arrow:"arrow-1Q5uq",innerArrowLeft:"innerArrowLeft-bGCjM",innerArrowRight:"innerArrowRight-22xGZ",hide:"hide-LKO5q"}},3522:function(e){e.exports={attributesTag:"attributesTag-Aferx",img:"img-2azHl",text:"text-3qGRO"}},50716:function(e){e.exports={ticker:"ticker-1guQv",time:"time-1-108"}},32083:function(e){e.exports={discountPriceTag:"discountPriceTag-2HywM",arrow:"arrow-3Qvg4",tagContent:"tagContent-1IgHD",text:"text-whl3z",countDown:"countDown-2jire"}},30202:function(e){e.exports={wrap:"wrap-1St43"}},42275:function(e){e.exports={container:"container-bf4jH",content:"content-1xAsa",titleContent:"titleContent-1XuAm",title:"title-G9DXi",arrowRight:"arrowRight-1X99G",close:"close-Oi9kS",closeIcon:"closeIcon-3DkEB",listWrap:"listWrap-24ANU",list:"list-Z2zE8",items:"items-2MBYf",item:"item-3c9JA",goodsImgContainer:"goodsImgContainer-36_J1",goodsImg:"goodsImg-1fAok",goodsPrice:"goodsPrice-3Wf_a",price:"price-3_wZT",pricePrefix:"pricePrefix-2Ly3b",priceSuffix:"priceSuffix-3Uhv2",isSmall:"isSmall-l7Wwx",viewMoreWrap:"viewMoreWrap-njkLz",viewMoreTextWrap:"viewMoreTextWrap-2dEmB",viewMoreLogo:"viewMoreLogo-MBDi4",viewMoreText:"viewMoreText-2QLjr",arrowCls:"arrowCls-37j85",enhanceLayer:"enhanceLayer-3HOST",titleWrap:"titleWrap-2evNc"}},6530:function(e){e.exports={wrap:"wrap-3PoGg",tagImg:"tagImg-3vRzJ",tagText:"tagText-PGxeo"}},33575:function(e){e.exports={goodsSkeletonWrapper:"goodsSkeletonWrapper-20ePi",ani:"ani-3_MP7",goodsSkeletonImgContainer:"goodsSkeletonImgContainer-UzcOJ",mask:"mask-2fvcZ",skeletonImgContainer:"skeletonImgContainer-33NIV",name:"name-3wflY",price:"price-1EGME",priceLeft:"priceLeft-gYB8k",priceRight:"priceRight-387f3",cartBtn:"cartBtn-2yEHi"}},58647:function(e){e.exports={wrap:"wrap-3pcAO",close:"close-2bCB9",closeIcon:"closeIcon-229qE",img:"img-3612k",goodsInfo:"goodsInfo-2TjsB",goodsName:"goodsName-Mkfrx",goodsDesc:"goodsDesc-2u41Y",strategy:"strategy-NMHGA",arrow:"arrow-222UY",enhanceLayer:"enhanceLayer-2InBw"}},12644:function(e){e.exports={container:"container-3HhWh",content:"content-1DRQP",avatarImage:"avatarImage-1L5nk",avatar:"avatar-2hQep"}},41776:function(e){e.exports={container:"container-3iPFs",marketPrice:"marketPrice-2_eP4",discount:"discount-kRZx7"}},28037:function(e){e.exports={wrap:"wrap-2lts5",processWrap:"processWrap-1XGFi",withCart:"withCart-1Dbrp",process:"process-3gPf9",textLine:"textLine-2k1f0",fireIcon:"fireIcon-D-ELf",txt:"txt-qgwvJ"}},8604:function(e){e.exports={mask:"mask-33ZPD",container:"container-3VlFk",content:"content-19U9B",titleWrap:"titleWrap-2fWuO",title:"title-cMWIb",close:"close-2peFr",closeIcon:"closeIcon-3WbRF",recommendsListWrap:"recommendsListWrap-31bx0",recommendList:"recommendList-WjaiU",recommendsWrap:"recommendsWrap-1141X",itemWrap:"itemWrap-dJNza",words:"words-1bmED",imgWrap:"imgWrap-a77ZV",img:"img-2Nspm"}},29696:function(e){e.exports={mask:"mask-1uinl",container:"container-39ve7",content:"content-lpTBQ",titleWrap:"titleWrap-HFkF7",title:"title-7W6Ap",close:"close-2RdZn",closeIcon:"closeIcon-2VLwy",img:"img-1TEHn",releatedWrap:"releatedWrap-DdVxu",goodsDetail:"goodsDetail-1cZXM",goodsName:"goodsName-3PzUW",imgWrap:"imgWrap-2ykAZ",marketPriceWrap:"marketPriceWrap-1UpX6",marketPrice:"marketPrice-31SjR",priceWrap:"priceWrap-1tfVs",goodsPrice:"goodsPrice-20S5-",isWindows:"isWindows-1uCK9",price:"price-2l8U9",pricePrefix:"pricePrefix-2lrep",priceSuffix:"priceSuffix-1NIw4",goodsPriceLong:"goodsPriceLong-jccAI"}},6653:function(e){e.exports={wrap:"wrap-3ieq2",wrapContent:"wrapContent-1CX6f",onlyShowName:"onlyShowName-2x5fI",content:"content-3c2tO",line:"line-ixNX7",countDown:"countDown-14VMT",textWrap:"textWrap-3haB7",sixCard:"sixCard-2SsZo"}},4606:function(e){e.exports={container:"container-1ZUTx",content:"content-2HqOI",titleWrap:"titleWrap-2V5N6",title:"title-cm_Cn",arrowRight:"arrowRight-1dFCl",close:"close-1ZfmD",closeIcon:"closeIcon-2OHL-",listWrap:"listWrap-3YArX",list:"list-2kHcy",items:"items-m0_At",item:"item-2IS1R",goodsImgContainer:"goodsImgContainer-1bF9y",goodsImg:"goodsImg-2fs0H",goodsPrice:"goodsPrice-3sNZs",price:"price-2q13F",pricePrefix:"pricePrefix-1ky0z",priceSuffix:"priceSuffix-1_ydN",isSmall:"isSmall-3MJPj",viewMoreWrap:"viewMoreWrap-29dQi",viewMoreTextWrap:"viewMoreTextWrap-3KGY_",viewMoreLogo:"viewMoreLogo-3V2-v",viewMoreText:"viewMoreText-1pYb5",arrowCls:"arrowCls-3byf6",enhanceLayer:"enhanceLayer-1wGpy"}},89513:function(e){e.exports={wrap:"wrap-3uesQ",imgList:"imgList-3WV6M",imgWrap:"imgWrap-3Kn8_",imgBorder:"imgBorder-15_cs",img:"img-3_WY_",imgTag:"imgTag-3p88T"}},10890:function(e){e.exports={wrap:"wrap-1Y_pQ",img:"img-2Tdk9",text:"text-2IcN7"}},30196:function(e){e.exports={container:"container-5WwK2",content:"content-1YXp0",header:"header-f1LN4",singleLine:"singleLine-11CYN",footer:"footer-VmgXD",footerText:"footerText-1IkCG",countDown:"countDown-q0cRn",double:"double-1CBff",isCenter:"isCenter-31ti1",promotionStyle1:"promotionStyle1-aoGaq",showFlashSeparator:"showFlashSeparator-1Y3qi",flashClockImg:"flashClockImg-1HkZV",image:"image-3uPyU",sixCard:"sixCard-1Yjj-",isCountDownDays:"isCountDownDays-2sxHD",isMore:"isMore-vc7RX",flashLine:"flashLine-3Ai0H"}},29316:function(e){e.exports={container:"container-2PW_o",content:"content-3cRKL",goodsTags:"goodsTags-3IlN-",goodsTagsWithImg:"goodsTagsWithImg-1NH1l",tagContent:"tagContent-2GZk2",billboardTagWrap:"billboardTagWrap-eiE-T",normalStyle:"normalStyle-2Oy3y",scaleStyle:"scaleStyle-39F1M",scaleImg:"scaleImg-ypqsz",customTagScaleImg:"customTagScaleImg-2cluS",scaleText:"scaleText-zjrwG",scaleRate:"scaleRate-36NRZ",scaleRateWrap:"scaleRateWrap-2Qb01",goodsSaleContent:"goodsSaleContent-3Nk5b",text:"text-2Ij5I",sixCard:"sixCard-12VQL"}},31509:function(e){e.exports={payTagWrap:"payTagWrap-3pGkS",text:"text-3LMFX",imgWrap:"imgWrap-tOB9F",img:"img-2fvgO"}},8858:function(e){e.exports={goodsWrapper:"goodsWrapper-1ZHEA",goodsImgContainer:"goodsImgContainer-2pZ1k",goodsName:"goodsName-2vpsf",saleInfo:"saleInfo-3oVcD",saleInfoL:"saleInfoL-3z2ct",saleInfoR:"saleInfoR-r-cmg",bottomTips:"bottomTips-1HIyb",self:"self-ZFTyG",quickLookWrap:"quickLookWrap-1F8_T",selfTip:"selfTip-1zmMg"}},17398:function(e){e.exports={similarDialog:"similarDialog-kLmct",bigWidth:"bigWidth-3sqIE",similarGoodsList:"similarGoodsList-3qRCf",title:"title-2z73o",goodsList:"goodsList-txdSd",skeletonList:"skeletonList-3bEn6",cardWrap:"cardWrap-28BL3",similarItemsTitle:"similarItemsTitle-1HV2f",similarMainGoods:"similarMainGoods-3QLCp",active:"active-qnpQy",goodsImageWrap:"goodsImageWrap-3zxgc",addCartBtn:"addCartBtn-QtvR2",goodsDetailWrap:"goodsDetailWrap-yLhTV",goodsDetail:"goodsDetail-2hKuc",goodsName:"goodsName-2ONWQ",priceWrap:"priceWrap-1EH_J",goodsPrice:"goodsPrice-2O_Pk",pricePrefix:"pricePrefix-2Difa",priceSuffix:"priceSuffix-2IxRj",marketPrice:"marketPrice-21JoS"}},41989:function(e){e.exports={skcWrapper:"skcWrapper-1QcBu",skcListWrapper:"skcListWrapper-3oZ0J",bubbleWrap:"bubbleWrap-3N42h",skcItemWrapper:"skcItemWrapper-1-B7Y",bubbleArrowWrap:"bubbleArrowWrap-2FkYh",bubbleArrow:"bubbleArrow-16uni",active:"active-2jY75",skcWrapper8:"skcWrapper8-V04zg",skcImg:"skcImg-2qoSw",skcNumWrap:"skcNumWrap-A6JWh",skuNumBlank:"skuNumBlank-NgqtE",skuNumMain:"skuNumMain-3lfvD",skcNum:"skcNum-2uTaI",skcWrapperLess8:"skcWrapperLess8-3rTsh"}},62937:function(e){e.exports={headTagWrap:"headTagWrap-2c3DO"}},34404:function(e){e.exports={container:"container-3vtIT",content:"content-38znH",header:"header-3UsTK",singleLine:"singleLine-1Tcov",footer:"footer-2Q3mW",footerText:"footerText-3z5Yi",countDown:"countDown-2K2O2",double:"double-3asVj",isCenter:"isCenter-3DYcj",promotionStyle1:"promotionStyle1-3IQrR",showFlashSeparator:"showFlashSeparator-ukN4w",flashClockImg:"flashClockImg-2YSvh",image:"image-2oyAX",sixCard:"sixCard-2D0Oj",isCountDownDays:"isCountDownDays-1cdrN",isMore:"isMore-cYsL8",flashLine:"flashLine-1Km2N"}},98055:function(e){e.exports={wrap:"wrap-2fKvM",arrow:"arrow-1Ly5N"}},86675:function(e){e.exports={tag:"tag-20Y03",content:"content-16I_S",icon:"icon-1bh7_",iconArrow:"iconArrow-2-SSJ",gray:"gray-27h8n",lg:"lg-20M04",hideTag:"hideTag-3AmWm",clickable:"clickable-3o5Z2",breakWord:"breakWord-3hep4"}},66325:function(e,t,n){"use strict";n.d(t,{Z:function(){return _a}});n(31002),n(36867),n(91560);var r=n(87184),o=n(72779),a=n.n(o),l=n(6552),i=n(94872),s=(n(80978),n(11183),(0,r.createContext)({})),c=function(){var e=(0,r.useContext)(s);if(void 0===e)throw new Error("useTimeContext must be used within GlobalContext");return e},u=(n(93801),n(17385),n(60452),n(23395),n(69632),n(87246),n(78529),n(44936),n(44408)),d=n(81959),m=n(34379),f=n(95239),p=n(63026),v=n(86867),g=n(54611),h=n(13980),y=n.n(h),b=n(82770),w=n(74411);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){var t=e.rootMargin,n=e.rootRef,o=e.children,a=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["rootMargin","rootRef","children"]),l=E((0,r.useState)(null),2),i=l[0],s=l[1],c=void 0===n,u=c?(0,r.useRef)(null):n;(0,r.useEffect)((function(){var e={thresholds:t};u&&(e.container=u.current);var n=new b.Z(e);return s(n),function(){return n.destroy()}}),[]);var d=(0,r.useMemo)((function(){return{lazyLoader:i}}),[i]);return r.createElement(w.Z.Provider,{value:d},c?r.createElement("div",S({ref:u},a),o):o)}T.propTypes={rootMargin:y().string,rootRef:y().object,children:y().node.isRequired,thresholds:y().string},T.defaultProps={rootMargin:"300px",thresholds:"300px"};var x=n(78889),I=n(30593),C=n(7872),N=n(6232),P=n(78707),_=n(40846),A=n(27235),W=n(22942),L=n(40312),O=n(3207),M=n(85938),R=n(2642),D=n(4628),j=n(95066);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){z(a,r,o,l,i,"next",e)}function i(e){z(a,r,o,l,i,"throw",e)}l(void 0)}))}}function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var H={title:"",recommendWords:[]};n(69460);var q=n(94380);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Q(a,r,o,l,i,"next",e)}function i(e){Q(a,r,o,l,i,"throw",e)}l(void 0)}))}}function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var $={title:"",goodsList:[]};function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ne=function(e){var t=e.personalizationTagRef,n=e.efficiencyTagWidth,o=te((0,r.useState)(!n),2),a=o[0],l=o[1];return(0,r.useEffect)((function(){var e;if(t.current&&n){var r,o=(null!=(r=null==(e=t.current.parentNode)?void 0:e.clientWidth)?r:0)-10,a=t.current.offsetWidth;l(!(a+n>o))}}),[n,t]),{showPersonalization:a}},re=n(10143),oe=(n(5127),n(22884)),ae=n(44507),le=n(12539),ie=n(77024);function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){ce(a,r,o,l,i,"next",e)}function i(e){ce(a,r,o,l,i,"throw",e)}l(void 0)}))}}function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function pe(e){var t=e||{},n=t.beforeClickCart,o=t.imprEventData,a=void 0===o?{}:o,l=t.clickEventData,i=void 0===l?{}:l,s=t.cartAmount,c=t.showGoodsImg,u=t.webpEnable,d=t.defaultSpecId,m=t.params,f=t.skuOptions,p=t.cartScene,v=t.pageSn,g=t.userCloseCallback,h=t.callback,y=t.cartBtnRef,b=(0,O.X2)(),w=me((0,r.useState)(s||0),2),k=w[0],S=w[1],E=(0,r.useRef)(),T=(0,r.useRef)(!1);(0,r.useEffect)((function(){le.ZP.preload();var e=(0,ae.Kd)((function(e){var t,n=e||{},r=n.cartGoodsNumMap,o=n.cartSkuNumMap;if(E.current=o,"object"==typeof r){var a,l=0;if((null==m?void 0:m.gc_id)&&(null==m||null==(t=m.gc_goods_list)?void 0:t.length))l=null==m.gc_goods_list.reduce?void 0:m.gc_goods_list.reduce.call(m.gc_goods_list,(function(e,t){var n;return e+(null!=(n=r[t])?n:0)}),0);else l=null!=(a=r[null==m?void 0:m.goods_id])?a:0;S(l)}}));return function(){e()}}),[]);var x=ue((function(e,t){var r,o;return fe(this,(function(l){switch(l.label){case 0:return b.start({type:"click"}),null==e||null==(r=e.preventDefault)||r.call(e),null==e||null==(o=e.stopPropagation)||o.call(e),n?[4,n()]:[3,2];case 1:l.sent(),l.label=2;case 2:return(0,oe.xv)(),le.ZP.show(de({imprEventData:a,clickEventData:i,pageSn:v,params:m,addCart:!0,cartScene:p,defaultSpecId:d,userCloseCallback:function(){T.current?T.current=!1:null==g||g()},isAutoShowToast:!0,callback:function(e){var t=e||{},n=t.addCartRes,r=t.error;if(r)return(0,ie.zH)(r);((null==n?void 0:n.result)||{}).success&&(S((function(t){return t+e.goodsNumber})),h&&h(),T.current=!0)},initSkuAmountMap:E.current},t||{},f||{},{cartBtnRef:y,onSkuShow:function(){var e;b.end({name:"pc_buiGoodsListAddCartClick"}),null==f||null==(e=f.onSkuShow)||e.call(f)},afterSkuAutoAddCart:function(){var e;b.end({name:"pc_buiGoodsListAddCartSuccess"}),null==f||null==(e=f.afterSkuAutoAddCart)||e.call(f)}})),c&&(0,_.p)(c,u),[2]}}))}));return{cartAmount:k,onClick:x}}n(45483),n(92374);function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function ge(e){var t,n,r=e.unique_id,o=e.goods_id,a=e.item;return r?""+((null==a||null==(t=a.data)?void 0:t.uniqueId)||(null==a?void 0:a.uniqueId))==""+r:""+((null==a||null==(n=a.data)?void 0:n.goodsId)||(null==a?void 0:a.goodsId))==""+o}var he=function(e,t,n,r){var o=r||{},a=o.onSkuPanelClose,l=o.onSkuPanelClear,i=o.onSkuPanelSuccess,s=!a&&!l&&!i,c=t||{},u=c.goods_id,d=c.unique_id,m=c.status||{},f=m.out_of_stock,p=m.un_add_cart,v=m.un_add_cart_search;if(!u&&!d)return e;var g,h,y,b,w,k,S,E,T,x,I,C,N,P,_,A,W,L,O=n||{},M=O.isBackAutoShowCategoryCard,R=O.isBackAutoShowRecommendWords,D=O.isShowRecommendWords,j=O.isShowReleatedGoods,G=O.isBackAutoShowReleatedGoods,z=O.isShowSimilar,B=!1,Z=e.find((function(e){return ge(ve({},t||{},{item:e}))})),U=Z&&(P=(null==(g=Z)||null==(y=g.data)||null==(h=y.extendFields)?void 0:h.gdReturnShowOpt)||(null==g||null==(b=g.extendFields)?void 0:b.gdReturnShowOpt),_=(null==g||null==(k=g.data)||null==(w=k.extendFields)?void 0:w.gdReturnShowRecommendWords)||(null==g||null==(S=g.extendFields)?void 0:S.gdReturnShowRecommendWords),A=(null==g||null==(T=g.data)||null==(E=T.extendFields)?void 0:E.showRecommendWordsOnSkuClose)||(null==g||null==(x=g.extendFields)?void 0:x.showRecommendWordsOnSkuClose),W=(null==g||null==(C=g.data)||null==(I=C.extendFields)?void 0:I.showSimilarItemsOnSkuClose)||(null==g||null==(N=g.extendFields)?void 0:N.showSimilarItemsOnSkuClose),L=ve({},g,{autoShowCategoryCardCount:0,autoShowRecommendWordsCount:0,autoShowReleatedGoodsCount:0,autoShowSimilarCount:0,addAutoShowSkuQuery:!1}),p&&(B=!0,Object.assign(L,{addAutoShowSkuQuery:!0})),l?(B=!0,L):g.autoShowReleatedGoodsCount>0?g:G&&!p&&s||j&&i?(B=!0,ve({},L,{autoShowReleatedGoodsCount:g.autoShowReleatedGoodsCount||1})):z&&W&&a?(B=!0,ve({},L,{autoShowSimilarCount:g.autoShowSimilarCount||1})):M&&P&&(f||p)?(B=!0,ve({},L,{autoShowCategoryCardCount:g.autoShowCategoryCardCount||1})):R&&_&&v||D&&A&&a?(B=!0,ve({},L,{autoShowRecommendWordsCount:g.autoShowRecommendWordsCount||1})):L),F=e.map((function(e){return ge(ve({},t||{},{item:e}))?U:ve({},e,{autoShowCategoryCardCount:U&&U.autoShowCategoryCardCount>0?0:e.autoShowCategoryCardCount||0,autoShowRecommendWordsCount:U&&U.autoShowRecommendWordsCount>0?0:e.autoShowRecommendWordsCount||0,autoShowReleatedGoodsCount:e.autoShowReleatedGoodsCount||0,autoShowSimilarCount:e.autoShowSimilarCount||0,addAutoShowSkuQuery:e.addAutoShowSkuQuery||!1})}));return B&&(0,q.Kq)(),B?F:e},ye=n(53835),be=function(e){var t=e.salesTipText,n=e.salesTipTextList,r=!!(null==n?void 0:n.length);return{salesTipValue:r?n:t,useNewSalesTip:r}},we=n(80471),ke=n(21737),Se=(n(67904),n(44718),n(57205)),Ee=n(31859);function Te(){return Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}var xe=function(e,t){return r.createElement(Ee.l,Te({},e,{ref:t,path:"M266.2 174.1l245.7 245.7 245.9-245.7c25.4-25.4 66.7-25.4 92.1 0 25.4 25.4 25.4 66.7 0 92.1l-245.8 245.7 245.8 245.9c25.4 25.4 25.4 66.7 0 92.1-25.4 25.4-66.7 25.4-92.1 0l-245.9-245.8-245.7 245.8c-25.4 25.4-66.7 25.4-92.1 0-25.4-25.4-25.4-66.7 0-92.1l245.7-245.9-245.7-245.7c-25.4-25.4-25.4-66.7 0-92.1 25.4-25.4 66.7-25.4 92.1 0z"}))},Ie=r.forwardRef(xe);function Ce(){return Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}var Ne=function(e,t){var n=(0,W.lO)()||{},o="M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 40.1c-260.6 0-471.9 211.3-471.9 471.9 0 260.6 211.3 471.9 471.9 471.9 260.6 0 471.9-211.3 471.9-471.9 0-260.6-211.3-471.9-471.9-471.9z m-37.9 303.6l2.7 2.4 144.6 150.6c7.2 7.5 8 18.8 2.4 27.2l-2.4 3-144.6 151c-8.3 8.7-22.1 9-30.8 0.7-7.8-7.5-8.9-19.4-2.9-28.1l2.2-2.7 130.1-135.9-130.1-135.7c-8.3-8.7-8.1-22.5 0.6-30.8 7.8-7.5 19.8-8 28.2-1.7z",a="M512 0c-282.8 0-512 229.2-512 512 0 282.8 229.2 512 512 512 282.8 0 512-229.2 512-512 0-282.8-229.2-512-512-512z m0 40.1c260.6 0 471.9 211.3 471.9 471.9 0 260.6-211.3 471.9-471.9 471.9-260.6 0-471.9-211.3-471.9-471.9 0-260.6 211.3-471.9 471.9-471.9z m37.9 303.6l-2.7 2.4-144.6 150.6c-7.2 7.5-8 18.8-2.4 27.2l2.4 3 144.6 151c8.3 8.7 22.1 9 30.8 0.7 7.8-7.5 8.9-19.4 2.9-28.1l-2.2-2.7-130.1-135.9 130.1-135.7c8.3-8.7 8.1-22.5-0.6-30.8-7.8-7.5-19.8-8-28.2-1.7z",l=(0,r.useMemo)((function(){var e,t,r;return n.isRTL||"rtl"===(null==(r=document)||null==(t=r.documentElement)||null==(e=t.getAttribute)?void 0:e.call(t,"dir"))?a:o}),[n.isRTL,a,o]);return r.createElement(Ee.l,Ce({},e,{ref:t,path:l}))},Pe=r.forwardRef(Ne),_e=n(52402),Ae=n(29554),We=n.n(Ae);function Le(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Le(a,r,o,l,i,"next",e)}function i(e){Le(a,r,o,l,i,"throw",e)}l(void 0)}))}}function Me(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var Re=function(e){var t=e.data,n=e.className,o=void 0===n?"":n,l=e.goodsId,i=e.size,s=void 0===i?"m":i,c=e.lazy,u=t||{},m=u.engThumbUrl,f=u.width,p=u.height,v=(0,r.useRef)(!1),h=(0,W.lO)().supportWebp;if(!(m&&f&&p&&l))return null;var y=Oe((function(e){var t,n;return Me(this,(function(r){switch(r.label){case 0:if(null==e||null==(t=e.stopPropagation)||t.call(e),null==e||null==(n=e.preventDefault)||n.call(e),v.current)return[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),v.current=!0,[4,(0,_e._)({goods_id:l})];case 2:return r.sent(),[3,5];case 3:return r.sent(),(0,d.K2)(new Error("renderEnergyProductDialog"),{goodsId:l}),[3,5];case 4:return v.current=!1,[7];case 5:return[2]}}))}));return r.createElement("div",{className:a()(We().tagWrap,We()[s],o),onClick:y},m&&r.createElement(g.ZP,{src:m,className:a()(We().img,We()[s]),processParam:{webpEnable:h,resizeWidth:144},lazy:c}))},De=n(12436),je=n.n(De),Ge=n(25057),ze=n(50232),Be=n.n(ze);function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var He=function(e){var t=e.column,n=e.len,o=e.renderCustomPageTurner,l=e.classConfig,i=(0,W.lO)().isRTL,s=(0,r.useRef)(null),c=Fe((0,r.useState)(1),2),u=c[0],d=c[1],m=Fe((0,r.useState)([]),2),f=m[0],p=m[1],v=i?1:-1,g=u-1,h=(0,r.useMemo)((function(){return g+t>=n?{transform:"translate3d("+(f[n-1]||0)*v+"px, 0px, 0px)"}:{transform:"translate3d("+(f[g]||0)*v+"px, 0px, 0px)"}}),[g,f]),y=(0,r.useCallback)((function(){d(1)}),[]),b=(0,r.useCallback)(je()((function(){var e=[],t=s.current;if(!t)return p([]);for(var n=t.children,r=t.getBoundingClientRect()||{},o=i?r.right:r.left,a=t.scrollWidth-t.clientWidth,l=0;l<n.length;l++){var c=n[l].getBoundingClientRect()||{};e.push(Math.min(Math.abs((i?c.right:c.left)-o),a))}return p(e)}),30),[]);(0,r.useEffect)((function(){if(s.current)return b(),window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}),[]);var w=function(e,r){if(null==r||r.stopPropagation(),null==r||r.preventDefault(),s.current){var o="next"===e?u+t:u-t,a=Math.min(Math.max(o,1),n-t+1);b(),d(a)}};return{slidesRef:s,listStyle:h,renderPageTurner:function(){return n<=t?null:o?o({cardNo:u,onArrowClick:w,column:t,len:n}):r.createElement(r.Fragment,null,r.createElement("div",{className:a()(Be().arrowWrap,Be().arrowLeft,null==l?void 0:l.arrowCls)},r.createElement("div",{className:a()(Be().arrow,Ue({},Be().hide,0===g)),onClick:function(e){return w("prev",e)}},r.createElement(Ge.Z,{className:Be().innerArrowLeft}))),r.createElement("div",{className:a()(Be().arrowWrap,Be().arrowRight,null==l?void 0:l.arrowCls)},r.createElement("div",{className:a()(Be().arrow,Ue({},Be().hide,g+t>=n)),onClick:function(e){return w("next",e)}},r.createElement(Se.Z,{className:Be().innerArrowRight}))))},onArrowClick:w,resetCardNo:y}},qe=n(58317),Ve=n(4606),Qe=n.n(Ve);function Ke(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Ke(a,r,o,l,i,"next",e)}function i(e){Ke(a,r,o,l,i,"throw",e)}l(void 0)}))}}function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}function Xe(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var $e=function(e){var t=(0,i.$)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,o=e.title,l=void 0===o?t("similar.title"):o,s=e.linkURL,c=e.goodsList,u=e.viewMoreText,d=void 0===u?t("similar.viewMore"):u,m=e.onClose,p=e.onClickTitle,v=e.onClickViewMoreBtn,h=e.loggerParams,y=e.webpEnable,b=e.commonTrackingInfo,w=e.trackingGoodsInfo,k=e.isSmall,S=e.pageSn,E=He({column:3,len:c.length+1,classConfig:{arrowCls:Qe().arrowCls}}),T=E.slidesRef,C=E.listStyle,N=E.renderPageTurner,P=null!=h?h:{},_=P.main,A=void 0===_?205632:_,W=P.title,L=void 0===W?205652:W,O=P.viewMore,M=void 0===O?205633:O,D=P.goods,j=void 0===D?205634:D,G=Je({},b||{},w||{},{main_goods_id:n,source_goods_id:n}),z=(0,r.useCallback)((function(e,t){return Ye((function(){return Xe(this,(function(n){switch(n.label){case 0:return[4,(0,x.ax)(e).catch((function(){}))];case 1:return n.sent(),(0,R.jm)((0,f.ru)({refer_page_el_sn:j},(0,we.av)(t)),{openTarget:"_blank"}),[2]}}))}))}),[G]),B=(0,r.useCallback)(Ye((function(e){return Xe(this,(function(t){switch(t.label){case 0:return[4,(0,x.ax)({page_el_sn:M}).catch((function(){}))];case 1:return t.sent(),v?v(e):s&&(0,R.jm)((0,we.av)(s),{openTarget:"_blank"}),[2]}}))})),[]),Z=(0,r.useCallback)(Ye((function(e){return Xe(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),[4,(0,x.ax)({page_el_sn:L}).catch((function(){}))];case 1:return t.sent(),p?p(e):s&&(0,R.jm)((0,we.av)(s),{openTarget:"_blank"}),[2]}}))})),[]);if(!c||0===c.length)return null;var U=(d||"").slice(0,8);return(d||"").slice(8).split("").forEach((function(e){e&&(U+=" "===e?" ":e+"­")})),r.createElement(I.ZP,{payload:Je({},G,{page_el_sn:A})},r.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()},className:Qe().enhanceLayer},r.createElement(qe.Z,{HWRatio:"calc(42.1875% + 34px)",className:Qe().container,childContainerClassName:Qe().content},r.createElement(I.ZP,{payload:Je({},G,{page_el_sn:L})},r.createElement("div",{className:Qe().titleWrap},r.createElement("div",{className:Qe().title,onClick:Z},l,r.createElement(Se.Z,{className:Qe().arrowRight})),r.createElement("div",{className:Qe().close,onClick:m},r.createElement(Ie,{className:Qe().closeIcon})))),r.createElement("div",{className:Qe().listWrap},r.createElement("div",{className:Qe().list},r.createElement("div",{className:Qe().items,ref:T,style:C},c.map((function(e,t){var n,o,l,i,s=e.seoLinkUrl,c=e.linkUrl,u=e.priceInfo,d=e.goodsId,m=e.pRec,p=e.pSearch,v=e.extendFields,h=null!=m?m:{},b=h.show_price,w=h.show_currency,E=h.show_sales,T=(v||{}).engIcon,x=Je({},G,{page_el_sn:j,goods_id:d,rec_goods_id:d,idx:t,p_rec:JSON.stringify(m),p_search:p,show_price:b,show_currency:w,show_sales:E}),C=(0,we.Ig)(u,"",S,d),N=C.unitPrefix,P=C.showPriceStr,_=C.unitSuffix,A=C.priceColor,W=Je({alignItems:_?"baseline":"center"},A?{color:A}:{});return r.createElement(I.ZP,{key:e.goodsId,payload:x},r.createElement("div",{className:Qe().item,onClick:z(x,s||c)},r.createElement(qe.Z,{HWRatio:1,className:Qe().goodsImgContainer},r.createElement(g.ZP,{src:(0,f.Hm)(e.hdThumbUrl||e.thumbUrl||(null==(n=e.image)?void 0:n.url)||""),className:Qe().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:y},alt:e.title||e.goodsName||""}),!!(null==T?void 0:T.engThumbUrl)&&r.createElement(Re,{data:T,goodsId:d,size:"s"})),r.createElement("div",{className:Qe().goodsPrice,style:W},N?r.createElement("span",{className:Qe().pricePrefix},N):null,r.createElement("span",{className:a()(Qe().price,(o={},l=Qe().isSmall,i=k,l in o?Object.defineProperty(o,l,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[l]=i,o))},P),_?r.createElement("span",{className:Qe().priceSuffix},_):null)))})),r.createElement(I.ZP,{payload:Je({},G,{page_el_sn:M})},r.createElement("div",{className:a()(Qe().viewMoreWrap),onClick:B},r.createElement("div",{className:Qe().viewMoreTextWrap},r.createElement(Pe,{className:Qe().viewMoreLogo}),r.createElement("div",{className:Qe().viewMoreText},U)))))),N()))))},et=(0,r.memo)($e),tt=n(83398),nt=n(3265),rt=n(42103),ot=n(33804),at=n(28549),lt=n.n(at);function it(e){var t=e.show,n=e.className,o=e.style,l=e.text;return t?r.createElement("div",{style:o,className:a()(lt().listEnd,n)},l):null}it.defaultProps={text:"",show:!1};var st=(0,r.memo)(it),ct=n(62599),ut=n.n(ct);function dt(e){var t=e.className,n=e.show,o=e.text,l=(0,i.$)("bec-fe.bui-web-goods-list",{keyPrefix:"ManualList"}).t;return n?r.createElement("div",{className:a()(ut().loading,t),role:"link","aria-label":o||l("Loading")},r.createElement("span",{className:ut().icon}),r.createElement("span",{className:ut().text},o||l("Loading"))):null}dt.defaultProps={show:!1};var mt=(0,r.memo)(dt),ft=n(67258),pt=n.n(ft);function vt(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function gt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){vt(a,r,o,l,i,"next",e)}function i(e){vt(a,r,o,l,i,"throw",e)}l(void 0)}))}}function ht(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function yt(e){var t=e.onIntersecting,n=e.rootMargin,o=e.className,l=(0,r.useRef)(null),i=(0,r.useMemo)((function(){return{loading:!1}}),[]),s=(0,r.useCallback)(gt((function(){return ht(this,(function(e){switch(e.label){case 0:return i.loading?[2]:(i.loading=!0,[4,t()]);case 1:return e.sent(),i.loading=!1,[2]}}))})),[]);return(0,r.useEffect)((function(){if(s&&l.current){var e,t,r=l.current,o=function(){e&&e.disconnect(),(e=new IntersectionObserver(a,{rootMargin:n})).observe(r)},a=gt((function(e){return ht(this,(function(n){switch(n.label){case 0:return e[0].isIntersecting&&s?[4,s()]:[3,2];case 1:n.sent(),clearTimeout(t),t=setTimeout(o,300),n.label=2;case 2:return[2]}}))}));return o(),function(){e.disconnect()}}}),[]),r.createElement("div",{className:a()(pt().bg,o),ref:l})}yt.defaultProps={rootMargin:"400px",onIntersecting:null};var bt=(0,r.memo)(yt),wt=n(59910),kt=n.n(wt);function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function Tt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Et(a,r,o,l,i,"next",e)}function i(e){Et(a,r,o,l,i,"throw",e)}l(void 0)}))}}function xt(){return xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return St(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function Nt(e){var t=e.datasource,n=e.renderItem,o=e.ssrRenderLength,l=void 0===o?5:o,s=e.NoListView,c=e.ListEndView,u=e.listEndText,m=e.loadMoreData,f=e.LoadMoreView,p=e.loadMoreText,v=e.hasMore,g=e.moreTracking,h=e.showLoading,y=e.loadingText,b=e.wrapperClass,w=e.goodsCardClassName,k=e.bottomWrapperClass,S=e.itemKey,E=e.useItemWrap,T=e.itemWidth,C=e.loadMode,N=e.rootMargin,P=e.useGoodsFilter,_=e.pageSn,A=e.listId,W=0===t.length&&!v,L=0!==t.length&&!v,M=It((0,r.useState)(!1),2),R=M[0],D=M[1],j=It((0,r.useState)(!1),2),G=j[0],z=j[1],B=(0,i.$)("bec-fe.bui-web-goods-list",{keyPrefix:"ManualList"}).t,Z=xt({page_el_sn:null==g?void 0:g.page_el_sn},g||{}),U=(0,O.X2)(),F=(0,r.useMemo)((function(){return v&&!R}),[v,R]),H=(0,r.useCallback)(Tt((function(){var e;return Ct(this,(function(t){switch(t.label){case 0:return h&&(D(!0),z(!1)),[4,m()];case 1:return 0!=+(e=t.sent())&&(D(!1),z(1==+e)),[2]}}))})),[h]),q=(0,r.useCallback)(Tt((function(){return Ct(this,(function(e){switch(e.label){case 0:return U.start({type:"click"}),U.stageStart("api"),(0,x.ax)(Z),[4,H()];case 1:return e.sent(),U.stageEnd("api"),[2]}}))})),[]),V=(0,r.useMemo)((function(){return c?r.createElement(c,null):r.createElement(st,{show:!0,text:u})}),[c]),Q=(0,r.useMemo)((function(){return s?r.createElement(s,null):r.createElement(st,{show:!0,text:u})}),[s]),K=(0,r.useMemo)((function(){return f?r.createElement(f,{onClick:H}):r.createElement(I.ZP,{payload:Z},r.createElement("div",{className:kt().loadMoreWrap,role:"link","aria-label":p},r.createElement(ot.Z,{show:!0,text:p,onClick:q})))}),[f,p]);if(W)return Q;var Y="auto"===C&&!R&&!G,J="manual"===C&&F&&!G;return r.createElement(r.Fragment,null,r.createElement("div",{className:b,role:"region"},t.map((function(e,t){var o=S&&e[S]?e[S]:t,i=n,s={index:t,data:e},c=r.createElement(i,s),u=!P||function(e,t,n,r){if(void 0===r&&(r=!0),!e)return!1;var o=e.priceInfo,a=e.image,l=e.thumbUrl,i=e.goodsId,s=o||{},c=s.priceText,u=void 0===c?[]:c,m=s.marketPriceText,f=s.splitPriceText,p=void 0===f?[]:f,v=s.priceStr,g=s.price,h=!(null==u?void 0:u.length)&&!(null==p?void 0:p.length)&&!(null==m?void 0:m.length),y=!(!(null==a?void 0:a.url)&&!l||h);if(!y&&r){var b=new Error("pageSn:"+(t||"")+", bui-web-goods-list: priceInfo is invalid");(0,d.K2)(b,{goodsId:i,listId:n,priceText:JSON.stringify(u||[]),priceStr:v,price:g})}return y}(null==e?void 0:e.data,_,A,!0);return u?r.createElement(rt.Z,{key:o,enable:t>=l},E?r.createElement("div",{className:a()(kt().cardWrap,w),style:{width:T}},c):c):null})),r.createElement(U.End,{key:t.length,name:"pc_buiGoodsListSeeMore"})),r.createElement("div",{className:k,role:"region"},L?r.createElement(rt.Z,{enable:!0},V):r.createElement(r.Fragment,null,r.createElement(mt,{show:R,text:y}),G?r.createElement(I.ZP,{payload:Z},r.createElement("div",{className:kt().loadMoreWrap,role:"link","aria-label":B("Error")},r.createElement(ot.Z,{show:!0,text:B("Error"),onClick:q}))):null,J?K:null,Y?r.createElement(bt,{onIntersecting:H,rootMargin:N}):null)))}Nt.defaultProps={datasource:[],renderItem:function(){},ssrRenderLength:5,autoOptimize:!0,loadMoreData:function(){},hasMore:!1,showLoading:!0,NoListView:null,ListEndView:null,loadMode:"manual",rootMargin:"800px"};var Pt=(0,r.memo)(Nt),_t=n(40600),At=n(24376),Wt=n(68687),Lt=n(30202),Ot=n.n(Lt);function Mt(){return Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt.apply(this,arguments)}var Rt=function(e){e.useEmage;var t=e.processParam,n=e.emageProgress,o=void 0===n||n,a=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["useEmage","processParam","emageProgress"]),l=t||{},i=l.resizeWidth,s=l.quality;return r.createElement(Wt.ZP,Mt({progress:o,resizeWidth:i,quality:s,wrapperClass:Ot().wrap},a))},Dt=(0,r.memo)(Rt),jt=n(82226),Gt=n(71943),zt=n(97319),Bt=n(8858),Zt=n.n(Bt);function Ut(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function Ft(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Ut(a,r,o,l,i,"next",e)}function i(e){Ut(a,r,o,l,i,"throw",e)}l(void 0)}))}}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(){return qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qt.apply(this,arguments)}function Vt(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var Qt=(0,r.memo)((function(e){var t,n,o,l,s,c=e.key,u=e.index,d=e.isWindows,p=e.pageSn,v=e.webpEnable,g=e.goodsInfo,h=e.quickLook,y=e.skuParams,b=e.openGoodsWithNewTab,w=e.className,k=e.mainGoodsId,S=e.grayConfig,E=(0,i.$)("bec-fe.bui-web-goods-list").t,T=g||{},C=T.title,N=T.image,P=T.thumbUrl,A=T.priceInfo,W=T.linkUrl,L=T.seoLinkUrl,O=T.pageAlt,D=T.quickLook,j=T.cartAmount,G=T.specIds,z=T.goodsId,B=T.showMarketInfo,Z=T.salesTipText,U=T.salesTipTextList,F=T.pRec,H=T.uniqueId,q=T.gcId,V=T.gcGoodsList,Q=T.extendFieldsForSku,K=T.extendFields,Y=void 0===K?{}:K,J=Y.skuExtraParam,X=void 0===J?{}:J,$=Y.engIcon,ee=void 0===$?{}:$,te=!!(null==S||null==(t=S.cp59723)?void 0:t.value),ne=be({salesTipText:Z,salesTipTextList:U}),re=ne.salesTipValue,oe=ne.useNewSalesTip,ae=re,le=qt({open:!0},D||{},h||{},{type:1}),ie=(0,r.useMemo)((function(){return{showGoodsImg:(null==N?void 0:N.url)||P,showPriceInfo:(0,we.Ig)(A,"",p,z),showLinkUrl:W,showSeoLinkUrl:L}}),[N,P,A,L,W]),se=ie.showGoodsImg,ce=ie.showPriceInfo,ue=ie.showSeoLinkUrl,de=ie.showLinkUrl,me={show_currency:null==A?void 0:A.currency,show_price:(null==A?void 0:A.price)||((null==A||null==(n=A.priceText)?void 0:n.length)>1?100*+A.priceText[1]:""),show_sales:ae&&ae.length>0?ae[0]:"",p_rec:JSON.stringify(F)},fe=qt({page_el_sn:222270,idx:u,main_goods_id:k,goods_id:z,source_goods_id:k,rec_goods_id:z,unique_id:H,gc_id:q,gc_goods_list:null!=(l=null==V||null==(o=V.join)?void 0:o.call(V,","))?l:null},me),ve=qt({page_el_sn:200061,goods_id:z,goods_btn_idx:u},me),ge=pe({cartAmount:(null==g?void 0:g.cartAmount)||j||0,imprEventData:ve,clickEventData:ve,pageSn:p,params:qt({goods_id:z,_oak_spec_ids:G||"",gc_id:q,gc_goods_list:V},(0,m.D1)(Q||{}),y||{},(0,m.D1)(X||{})),cartScene:289}),he=ge.cartAmount,ye=ge.onClick,ke=(0,r.useMemo)((function(){return(0,M.YK)(ue&&0!==(null==ue?void 0:ue.indexOf("?"))?ue:de)}),[ue,de]),Se=(0,r.useCallback)(Ft((function(){var e;return Vt(this,(function(t){switch(t.label){case 0:return[4,(0,x.ax)(fe).catch((function(){}))];case 1:return t.sent(),se&&(0,_.p)(se,v),e={},b&&(e={openTarget:"_blank"}),ke&&(0,R.jm)((0,f.ru)({refer_page_el_sn:222270},ke),e),[2]}}))})),[]);return r.createElement(I.ZP,{payload:fe},r.createElement("div",{className:a()(Zt().goodsWrapper,w),onClick:Se,key:c},r.createElement(qe.Z,{HWRatio:1,className:Zt().goodsImgContainer},!!se&&r.createElement(Dt,{useEmage:te,alt:O||C,lazy:!0,src:se,processParam:{webpEnable:v,resizeWidth:388}}),(null==ee?void 0:ee.engThumbUrl)&&r.createElement(Re,{data:ee,goodsId:z}),(s=+z==+k,r.createElement("div",{className:a()(Zt().bottomTips,Ht({},Zt().self,s))},s?r.createElement("div",{className:Zt().selfTip},E("thisItem")):r.createElement("div",{className:Zt().quickLookWrap},(null==le?void 0:le.open)?r.createElement(At.Z,qt({},le,{addCart:ye,webpEnable:v,lazy:!0})):null)))),r.createElement(jt.Z,{name:C,className:Zt().goodsName}),r.createElement("div",{className:Zt().saleInfo},r.createElement(Gt.Z,{price:null==ce?void 0:ce.showPriceStr,pricePrefix:ce.unitPrefix,priceSuffix:ce.unitSuffix,priceColor:ce.priceColor,marketPrice:B?null:ce.showMarketPriceStr,isWindows:d,lazy:!0,webpEnable:v,className:Zt().saleInfoL,useNewSalesTip:oe}),r.createElement(zt.Z,{cartAmount:he,addCart:ye,className:Zt().saleInfoR}))))})),Kt=n(17398),Yt=n.n(Kt);function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function $t(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Xt(a,r,o,l,i,"next",e)}function i(e){Xt(a,r,o,l,i,"throw",e)}l(void 0)}))}}function en(){return en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(this,arguments)}function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var rn=function(e){var t,n=e.openGoodsWithNewTab,o=e.mainGoodsId,s=e.isWindows,c=e.webpEnable,u=e.pageSn,d=e.quickLook,m=e.onClose,f=e.addCart,p=e.goodsInfo,v=e.priceInfo,g=e.skuParams,h=e.grayConfig,y=e.onMainGoodsClick,b=e.mainGoodsForwardToGoodDetail,w=(0,i.$)("bec-fe.bui-web-goods-list").t,k=tn((0,r.useState)(!0),2),S=k[0],E=k[1],T=tn((0,r.useState)([]),2),x=T[0],C=T[1],N=(0,r.useRef)({goodsList:x}),P=(0,r.useRef)(""),_=!!(null==h||null==(t=h.cp59723)?void 0:t.value),A=p.goodsId,W=p.title,L=p.thumbUrl,O=p.priceColor,M=(p.extendFields||{}).engIcon,R=void 0===M?{}:M,D=v||{},G=D.unitPrefix,z=D.showPriceStr,B=D.unitSuffix,Z=D.showMarketPriceStr,U=en({alignItems:G?"baseline":"center"},O?{color:O}:{});(0,r.useEffect)((function(){P.current=(0,l.x)(6)+"_quick_rec_find_sim"}),[]);var F=(0,r.useCallback)($t((function(){var e,t,n,r,a,l,i,s,c,d,m,f,p;return nn(this,(function(v){switch(v.label){case 0:return l={listId:P.current,offline:!0,page_size:24,offset:null!=(a=null==N||null==(t=N.current)||null==(e=t.goodsList)?void 0:e.length)?a:0,scene:"sku_panel_find_sim",mainGoodsIds:[o],topGoods:[o],optId:"-1",pageSn:u},[4,(0,j.$h)("/api/poppy/v1/find_sim",l)];case 1:return i=v.sent(),(c=null!=(s=null==i||null==(r=i.result)||null==(n=r.data)?void 0:n.goodsList)?s:[]).length>0&&c[0].goodsId?(f=(null==(d=N.current.goodsList)?void 0:d.length)>0?null==(m=N.current)?void 0:m.goodsList:[],p=f.concat(c[0].goodsId===A?c.slice(1):c),N.current.goodsList=p,C(p)):E(!1),[2]}}))})),[]);(0,r.useEffect)((function(){(null==x?void 0:x.length)||F()}),[]);var H,q,V,Q=(0,r.useCallback)((function(e){var t=e.index,a=e.data;return a.goodsId?r.createElement(Qt,{className:Yt().cardWrap,pageSn:u,key:a.goodsId,index:t,goodsInfo:a,webpEnable:c,quickLook:d,isWindows:s,skuParams:g,openGoodsWithNewTab:n,mainGoodsId:o,grayConfig:h}):null}),[]),K=(0,r.useCallback)((function(e){b&&(null==y||y(e))}),[y,b]);return r.createElement(tt.ZP,{className:a()(Yt().similarDialog,Yt().bigWidth),onClick:m},r.createElement(I.ZP,{payload:{page_el_sn:222268}},r.createElement("div",{className:Yt().title},w("findSimilar"))),r.createElement("div",{className:Yt().similarGoodsList},r.createElement("div",{className:a()(Yt().similarMainGoods,(H={},q=Yt().active,V=b,q in H?Object.defineProperty(H,q,{value:V,enumerable:!0,configurable:!0,writable:!0}):H[q]=V,H)),onClick:K},r.createElement("div",{className:Yt().goodsImageWrap},r.createElement(Dt,{useEmage:_,lazy:!1,src:L,className:Yt().goodsImage,processParam:{webpEnable:c,resizeWidth:200}}),(null==R?void 0:R.engThumbUrl)&&r.createElement(Re,{data:R,goodsId:A,size:"s"})),r.createElement("div",{className:Yt().goodsDetailWrap},r.createElement("p",{className:Yt().goodsName},W),r.createElement("div",{className:Yt().goodsDetail},r.createElement("div",{className:Yt().priceWrap},r.createElement("div",{className:Yt().goodsPrice,style:U},!!G&&r.createElement("span",{className:Yt().pricePrefix},G),r.createElement("span",{className:Yt().price},z),!!B&&r.createElement("span",{className:Yt().priceSuffix},B)),r.createElement("div",{className:Yt().marketPrice},Z)),r.createElement(nt.Z,{size:"lg",type:"main",className:Yt().addCartBtn,onClick:f},w("addCart"))))),r.createElement("p",{className:Yt().similarItemsTitle},w("similar.title")),(null==x?void 0:x.length)>0?r.createElement(Pt,{wrapperClass:Yt().goodsList,datasource:x,hasMore:S,loadMoreData:F,renderItem:Q,loadMode:"auto",showLoading:!0}):r.createElement("div",{className:Yt().skeletonList},new Array(12).fill(0).map((function(e,t){return r.createElement("div",{className:Yt().cardWrap,key:t},r.createElement(_t.Z,null))})))))},on=(0,r.memo)(rn);n(62464),n(22979),n(91211),n(70309),n(99492);function an(){return an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(this,arguments)}var ln,sn=function(e,t){try{if(!e)return t;if("string"==typeof e){var n=(0,u.as)(e,t)||{},r=n.bg_color,o=n.font_color;return an({},t,{background:r,color:o,fill:o,icon_url:n.icon_url})}}catch(e){(0,d.K2)(new Error("parse tag style error"),{errorMsg:null==e?void 0:e.message})}return t},cn=(n(27635),n(7068));!function(e){e[e.center=1]="center"}(ln||(ln={}));var un=n(30196),dn=n.n(un);function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var vn=function(e){var t,n,o=e.header,l=e.url,i=e.footer,s=e.iconImg,c=e.className,u=e.lazy,d=void 0!==u&&u,m=e.ph,f=e.textCentered,p=e.promotionStyle,v=e.textYPercent,h=e.classConfig,y=e.serverTime,b=e.rowNum,w=e.onEnd,k=(0,W.lO)().isRTL,S=o||{},E=S.text,T=S.color,x=i||{},I=x.endTime,C=x.text,N=x.color,P=(null==o?void 0:o.dx)||(null==i?void 0:i.dx)||0,_=f===ln.center,A=1===p,L=2===p,O=E&&C&&!A&&!L,M={color:T,marginTop:O?"1.6%":"0px"},R={color:N},D=(0,we.mr)(I||e.endTime||""),j=y||Date.now(),G=pn((0,r.useState)(D&&D+2e3>j),2),z=G[0],B=G[1],Z=(0,r.useCallback)((function(){B(!1)}),[]),U=!l||D&&!z;if((0,r.useEffect)((function(){U&&(null==w||w())}),[U]),U)return null;var F=!E&&C&&!A&&!L&&z&&D&&((null==C||null==(n=C.trim)||null==(t=n.call(C))?void 0:t.length)>10||D-j>we.dJ+2e3),H={width:_?"200%":2*(1-P)*100+"%"};k?H.right=_?"0px":100*P+"%":H.left=_?"0px":100*P+"%",m&&v&&(H.paddingTop=m*v*2*100+"%");var q,V,Q,K=z&&D&&L&&s;return r.createElement("div",{className:a()(dn().container,c,null==h?void 0:h.container,(Q={},fn(Q,dn().double,O),fn(Q,dn().isCenter,_),fn(Q,dn().promotionStyle1,1===p),fn(Q,dn().showFlashSeparator,K),fn(Q,dn().isCountDownDays,F),fn(Q,dn().isMore,(null!=(q=null==E?void 0:E.length)?q:0)>22||(null!=(V=null==C?void 0:C.length)?V:0)>14&&z&&D),fn(Q,dn().sixCard,6===b),Q)),tabIndex:-1},l?r.createElement(g.ZP,{src:l,lazy:d,className:a()(dn().image,null==h?void 0:h.image),"aria-hidden":!0,alt:""+(E||""),processParam:{resizeWidth:512,quality:100}}):null,r.createElement("div",{className:a()(dn().content,null==h?void 0:h.content),style:H},E?r.createElement("div",{className:a()(dn().header,null==h?void 0:h.header,fn({},dn().singleLine,!(z&&D))),style:M,role:"link"},E):null,z&&D?r.createElement("div",{className:a()(dn().footer,null==h?void 0:h.footer,fn({},dn().singleLine,!E&&C&&z&&D)),style:R},K?r.createElement(g.ZP,{alt:E,lazy:d,src:s,className:dn().flashClockImg,processParam:{resizeWidth:33,quality:100}}):null,r.createElement("span",{className:a()(dn().footerText,null==h?void 0:h.footerText),role:"link"},C),r.createElement(cn.Z,{serverTime:j,endTime:D,interval:1e3,onEnd:Z},(function(e){var t=e.day,n=e.hour,o=e.minute,l=e.second;return r.createElement("div",{className:a()(dn().countDown,null==h?void 0:h.countDown),style:{color:N},role:"link",dir:"ltr"},t>0?r.createElement("span",{"aria-hidden":!0},t,":"):null,r.createElement("span",{"aria-hidden":!0,suppressHydrationWarning:!0},_?"08":n,":"),r.createElement("span",{"aria-hidden":!0,suppressHydrationWarning:!0},_?"28":o,":"),r.createElement("span",{"aria-hidden":!0,suppressHydrationWarning:!0},_?"28":l))}))):null))},gn=(0,r.memo)(vn),hn=n(10890),yn=n.n(hn),bn=function(e){var t=e||{},n=t.iconUrl,o=t.text,l=t.imgClassName,i=void 0===l?"":l,s=(0,W.lO)().supportWebp;return r.createElement("div",{className:yn().wrap},n&&r.createElement(g.ZP,{src:n,className:a()(yn().img,i),"aria-hidden":!0,alt:o,processParam:{webpEnable:s,resizeWidth:18}}),r.createElement("span",{className:yn().text},o))},wn=(0,r.memo)(bn),kn=n(89513),Sn=n.n(kn);var En=function(e){var t=e||{},n=t.data,o=t.imgClassName,l=n||{},i=l.text,s=l.url,c=l.urls,u=(null==c?void 0:c.length)>0?c:s?[s]:[],d=u.length;return r.createElement("div",{className:Sn().wrap},(null==u?void 0:u.length)&&r.createElement("div",{className:Sn().imgList},u.map((function(e,t){return r.createElement("div",{className:a()(Sn().imgWrap,(n={},l=Sn().imgBorder,s=(null==u?void 0:u.length)>1&&t!==d-1,l in n?Object.defineProperty(n,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[l]=s,n)),key:t},r.createElement(g.ZP,{src:e,"aria-hidden":!0,alt:i,className:a()(Sn().img,o),processParam:{resizeWidth:54,quality:100}}));var n,l,s}))),r.createElement("span",{className:Sn().imgTag,"aria-hidden":!0},i))},Tn=(0,r.memo)(En),xn=n(69459),In=n(5719),Cn=n(89911),Nn=n(46116),Pn=n(29316),_n=n.n(Pn);function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wn(e){if(Array.isArray(e))return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(){return On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},On.apply(this,arguments)}function Mn(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Rn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dn(e,t){return Wn(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||Gn(e,t)||Rn()}function jn(e){return function(e){if(Array.isArray(e))return An(e)}(e)||Mn(e)||Gn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){if(e){if("string"==typeof e)return An(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,t):void 0}}var zn=(0,r.forwardRef)((function(e,t){var n,o,l,i,s=e.promotionTagInfo,c=e.normalTags,d=e.specialTagsInfo,m=e.goodsId,f=e.openGoodsWithNewTab,p=e.commonTrackingInfo,v=e.trackingGoodsInfo,g=e.grayConfig,h=e.pageSn,y=e.showScoreNum,b=e.showGoodsTagRender,w=e.commonInfo,k=e.allGoodsTags,S=(s||{}).ph,E=void 0===S?"0.11718":S,T=w.rowNum,C=E?{paddingBottom:100*E+"%"}:{},N=(0,r.useMemo)((function(){var e;if(!s)return{background:"#feefe1",color:"#000",fill:"#000"};var t=(null==k?void 0:k.find((function(e){var t;return!!(null==e||null==(t=e.extMap)?void 0:t.normalTagPromotionStyle)})))||{},n=sn(null==t||null==(e=t.extMap)?void 0:e.normalTagPromotionStyle,{background:"#feefe1",color:"#000",fill:"#000"});n.icon_url;return function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(n,["icon_url"])}),[k,s]),P=!c||0===c.length,_=Dn((0,r.useState)(-1),2),A=_[0],W=_[1],L=Dn((0,r.useState)((function(){var e,t,n,r,o=(s||{}).url,a=d||{},l=a.header,i=a.activityName,u=a.footer,m=a.endsName,f=a.marketPriceEndTime,p=jn(c),v=null!=(t=null!=(e=null==l?void 0:l.text)?e:i)?t:"",g=null!=(r=null!=(n=null==u?void 0:u.text)?n:m)?r:"";return o?p.unshift({type:"promotionTag"}):(v||g||f)&&p.unshift({type:"goodsSaleTipTag"}),p})),2),O=L[0],M=L[1];(0,r.useEffect)((function(){M((function(e){var t=e[0];return["goodsSaleTipTag","promotionTag"].includes(null==t?void 0:t.type)?[null==e?void 0:e[0]].concat(jn(c)):c}))}),[c]);var R=(0,r.useCallback)((function(){var e,t=Wn(e=O)||Mn(e)||Gn(e)||Rn(),n=(t[0],t.slice(1));M(n),W(-1)}),[]),D=(0,r.useRef)({tagRows:[1],tagList:[],tagListImpr:[],hasImpr:!1}),j=(0,r.useRef)();(0,r.useEffect)((function(){var e,n;if(b&&!P&&(null==t||null==(e=t.current)?void 0:e.childNodes)&&j.current){var r=function(e,t,n){for(var r,o=[],a=[],l=null!=(r=null==e?void 0:e.length)?r:0,i=t.offsetHeight,s=0;s<l;s++){var c,u,d,m,f,p,v,g,h=Math.round((null!=(p=null==(c=e[s])?void 0:c.offsetTop)?p:0)/i);o.push(h),a[h]=a[h]?a[h]+","+(null!=(v=null==(d=e[s])||null==(u=d.getAttribute)?void 0:u.call(d,"aria-label"))?v:""):null!=(g=null==(f=e[s])||null==(m=f.getAttribute)?void 0:m.call(f,"aria-label"))?g:""}return{rows:o,tagList:a}}(null==t||null==(n=t.current)?void 0:n.childNodes,j.current),o=r.rows,a=r.tagList,l=new Set(o).size;if(D.current.tagList=a,2===l)return M((function(e){return jn(e||[]).concat(jn(e||[]))})),void(D.current.tagRows=jn(o).concat(jn(o.map((function(e){return e+2})))));D.current.tagRows=o}}),[b,O]),(0,r.useEffect)((function(){if(b){var e=new Set(D.current.tagRows).size,t=D.current.tagList.length;if(!(P||e<2)){var n=setInterval((function(){D.current.hasImpr&&W((function(n){var r,o;if(-1===n)return 0;var a=(n+1)%e;if((null==(o=D.current)||null==(r=o.tagListImpr)?void 0:r.length)<t){var l=2===t?1:a;if(!D.current.tagListImpr[l]){var i=D.current.tagList[l];i&&(0,x.wI)({page_el_sn:217476,goods_id:m,tag_list:i})}D.current.tagListImpr[l]=1}return a}))}),3e3);return function(){return clearInterval(n)}}}}),[b,O]);var G,z,B,Z=(0,r.useCallback)((function(e){var t,n=null==(t=j.current)?void 0:t.offsetHeight,r=new Set(D.current.tagRows).size,o=D.current.tagRows[e],a=(A+1)%r===o,l=A===o,i=A>=0&&0===o?n:0;return a?i=-n*o:l&&(i=-n*o-n),{opacity:-1===A||a||l?1:0,transform:"translateY("+i+"px)",isFadeIn:-1===A||a}}),[A]),U=(0,r.useCallback)((function(e){var t=e||{},n=t.text,o=t.url,a=t.marketingTagType,l=t.extMap,i=t.tagId,c=t.type,b=(l||{}).goodsScoreStarComment,k=!!b&&(0,u.as)(b,{})||{},S=k.goods_score,E=k.goods_score_text,T=k.comment_num_tips;if("promotionTag"===c)return r.createElement(gn,On({},s,w,{onEnd:R}));if("goodsSaleTipTag"===c)return r.createElement(Nn.Z,On({},d,w,{style:N,onEnd:R,contentClassName:_n().goodsSaleContent}));if(91022===i)return n&&r.createElement(Tn,{data:e,imgClassName:_n().scaleImg});if(a===we.oO.BRAND)return r.createElement(wn,{iconUrl:o,text:n,imgClassName:_n().scaleImg});if(i===we.oO.CUSTOM_TAG){var x=sn(null==l?void 0:l.normalTagPromotionStyle,{}).icon_url,I=s?x:"https://aimg.kwcdn.com/upload_aimg/temu/1927cf6f-403f-488e-9a19-0637709f0bd9.png.slim.png";return r.createElement(wn,{iconUrl:I,text:n,imgClassName:_n().customTagScaleImg})}if(a===we.oO.COMMENT&&S&&E&&T)return r.createElement(xn.Z,{score:S,scoreText:E,numTips:T,showScoreNum:y,pageSn:h,style:N,scoreColor:N.color,className:_n().scaleText,rateClassName:_n().scaleRate,rateWrapClassName:_n().scaleRateWrap});var C=(0,Cn.Z)(e);if(+a===we.oO.BILLBOARD||C){var P=sn(null==l?void 0:l.normalTagPromotionStyle,{}).icon_url,_=s?P:"https://aimg.kwcdn.com/upload_aimg/temu/377fa157-1612-4e66-9760-49c312e8f549.png.slim.png";return r.createElement(ke.IH,{id:"BillboardTag-"+(m||""),title:C,fixed:!0,className:_n().billboardTagWrap},r.createElement(In.Z,{data:[e],openGoodsWithNewTab:f,commonTrackingInfo:p,trackingGoodsInfo:v,grayConfig:g,commonStyle:N,imgClassName:_n().scaleImg,iconUrl:_,useSimpleMode:!0}))}return r.createElement("span",{className:_n().text},n)}),[]),F=(null!=(G=null==(o=c[0])||null==(n=o.text)?void 0:n.length)?G:0)>=30,H=(null!=(z=null==(i=c[0])||null==(l=i.text)?void 0:l.length)?z:0)<=28&&!F,q={page_el_sn:217476,goods_id:m,get tag_list(){var e;return D.current.hasImpr=!0,D.current.tagListImpr[0]=1,D.current.tagList[0]||(null==O||null==(e=O[0])?void 0:e.text)}},V=null==O?void 0:O.length;return V?r.createElement(I.ZP,{payload:q},r.createElement("div",{className:a()(_n().container,Ln({},_n().sixCard,6===T)),style:C,ref:j},r.createElement("div",{className:_n().content,style:On({},N,{height:100*V+"%"})},r.createElement("div",{className:a()(_n().goodsTags,(B={},Ln(B,_n().small,F),Ln(B,_n().useSmall,H),B)),ref:t,tabIndex:0,"data-active":A+1===O.length?0:A+1},null==O?void 0:O.map((function(e,t){var n=e||{},o=n.br,l=n.text,i=n.header,s=n.footer,c=n.type;if(o)return null;var u,d,m,f=Z(t)||{},p=f.opacity,v=f.transform,g=f.isFadeIn,h={opacity:p,transform:v},y=l||""+(null!=(u=null==i?void 0:i.text)?u:"")+(null!=(d=null==s?void 0:s.text)?d:"");return r.createElement("div",{key:t,className:a()(_n().goodsTagsWithImg),style:On({},h,{height:100/V+"%"}),"data-active":g?"1":"0",role:"link","aria-label":y},r.createElement("div",{className:a()(_n().tagContent,(m={},Ln(m,_n().normalStyle,"promotionTag"===c),Ln(m,_n().scaleStyle,!["promotionTag","goodsSaleTipTag"].includes(c)),m))},U(e)))})))))):null})),Bn=(0,r.memo)(zn),Zn=n(3522),Un=n.n(Zn),Fn=function(e){var t=e.children,n=e.style,o=void 0===n?{}:n,l=e.className,i=void 0===l?"":l;return r.createElement("div",{className:a()(Un().attributesTag,i),style:o},t)},Hn=function(e){var t=e.tags,n=void 0===t?[]:t,o=e.className,a=void 0===o?"":o,l=e.lazy,i=(0,W.lO)().supportWebp,s=(null==n?void 0:n[0])||{},c=s.text,u=s.color,d=s.url;return r.createElement(Fn,{className:a,style:{color:u}},!!d&&r.createElement(g.ZP,{lazy:l,src:d,className:Un().img,"aria-hidden":!0,processParam:{webpEnable:i}}),r.createElement("span",{className:Un().text},c))},qn=(0,r.memo)(Hn),Vn=n(6530),Qn=n.n(Vn),Kn={1:400,2:500,3:600},Yn=function(e){var t,n=e.data,o=e.className,l=e.lazy,i=void 0===l||l;if(!(null==n?void 0:n.length))return null;var s=(null==n?void 0:n[0])||{},c=null==n||null==(t=n[0])?void 0:t.header;if(!(null==s?void 0:s.pw)&&!(null==s?void 0:s.ph))return null;var u={width:256*s.pw+"px",height:256*s.ph+"px",background:s.backColor},d=c&&{fontSize:(null==c?void 0:c.font)+"px",color:null==c?void 0:c.color,fontWeight:Kn[null==c?void 0:c.textStyle]}||{};return r.createElement("div",{style:u,className:a()(Qn().wrap,o)},(null==s?void 0:s.url)?r.createElement(g.ZP,{alt:null==c?void 0:c.text,src:null==s?void 0:s.url,className:Qn().tagImg,lazy:i}):null,c?r.createElement("div",{style:d,className:Qn().tagText},null==c?void 0:c.text):null)},Jn=(0,r.memo)(Yn),Xn=n(6932),$n=n(47321),er=n(58647),tr=n.n(er);function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rr(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function or(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){rr(a,r,o,l,i,"next",e)}function i(e){rr(a,r,o,l,i,"throw",e)}l(void 0)}))}}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lr(){return lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lr.apply(this,arguments)}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function cr(e){var t,n=e.pageSn,o=e.goodsId,i=e.closeCategoryCard,s=e.lazy,c=e.webpEnable,u=e.commonTrackingInfo,d=e.trackingGoodsInfo,m=(0,O.X2)(),f=ir((0,r.useState)({}),2),p=f[0],v=f[1],h=p.optName,y=p.imageUrl,b=p.strategy,w=p.linkUrl,k=p.optId,S=p.pRec,E=p.optType,T=void 0===E?"":E,C=lr({},u||{},d||{},(ar(t={page_el_sn:212491,goods_id:o,opt_id:k,text:b,opt_level:T},"opt_cate"+T+"_id",k),ar(t,"opt_cate_idx",0),ar(t,"p_rec",JSON.stringify(S)),t));(0,r.useEffect)((function(){m.start({type:"click"}),m.stageStart("api");var e={listId:(0,l.x)(),offset:0,pageSize:-1,pageSn:n,scene:"gd_return_opt",mainGoodsId:o};(0,j.S6)({url:(0,j.mx)("/api/poppy/v1/opt_list",e),params:e,config:{useAntiToken:!0}}).then((function(e){var t;m.stageEnd("api");var n=e.result,r=(null==(t=(void 0===n?{}:n).data.crumbOptList)?void 0:t[0])||{};v(r)})).catch((function(){}))}),[]);var N=(0,r.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,x.ax)({page_el_sn:212492}),i()}),[i]),P=(0,r.useCallback)(or((function(e){return sr(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),null==e||e.stopPropagation(),[4,(0,x.ax)(C).catch((function(){}))];case 1:return t.sent(),(0,R.jm)(w,{openTarget:"_blank"}),[2]}}))})),[w]);return h&&b&&w?r.createElement(I.ZP,{payload:C},r.createElement("div",{className:a()(tr().wrap,tr().enhanceLayer),onClick:P},r.createElement("div",{className:tr().close,onClick:N},r.createElement(Ie,{className:tr().closeIcon})),r.createElement(g.ZP,{lazy:s,src:y,className:tr().img,"aria-hidden":!0,alt:b,processParam:{resizeWidth:42,webpEnable:c}}),r.createElement("div",{className:tr().goodsInfo},r.createElement("div",{className:tr().goodsName},h),r.createElement("div",{className:tr().goodsDesc},r.createElement("div",{className:tr().strategy},b),r.createElement(Se.Z,{className:tr().arrow}))),r.createElement(m.End,{name:"pc_buiGoodsListShowCategory"}))):null}var ur=(0,r.memo)(cr),dr=n(8604),mr=n.n(dr);function fr(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function pr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){fr(a,r,o,l,i,"next",e)}function i(e){fr(a,r,o,l,i,"throw",e)}l(void 0)}))}}function vr(){return vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vr.apply(this,arguments)}function gr(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function hr(e){var t,n,o=e.webpEnable,a=e.lazy,l=e.data,i=e.onClose,s=e.commonTrackingInfo,c=e.trackingGoodsInfo,u=e.recommendWordsTrackingInfo,d=e.openRecommendWordsWithNewTab,m=l||{},p=m.title,v=m.recommendWords,h=null!=(t=null==v?void 0:v.length)?t:0,y=He({column:1,len:Math.floor((h+1)/2)}),b=y.slidesRef,w=y.listStyle,k=y.renderPageTurner,S=vr({},s||{},c||{},u||{}),E=vr({page_el_sn:212953},S),T=vr({page_el_sn:212952,words_type:"related",p_search:null==v?void 0:v[0].pSearch,words:JSON.stringify(null!=(n=null==v?void 0:v.map((function(e){return e.recommend})))?n:[])},S),C=(0,r.useCallback)((function(e){return pr((function(t){var n,r,o,a;return gr(this,(function(l){switch(l.label){case 0:return null==t||t.preventDefault(),null==t||t.stopPropagation(),r=(n=e||{}).url,o=n.pSearch,a=n.recommend,r?[4,(0,x.ax)(vr({},T,{p_search:JSON.stringify(o),words:a})).catch((function(){}))]:[2];case 1:return l.sent(),(0,R.jm)((0,f.ru)({srch_enter_source:"10009212952"},(0,M.YK)(r)),d?{openTarget:"_blank"}:{}),[2]}}))}))}),[]),N=(0,r.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,x.ax)(E),i()}),[i]),P=null==v?void 0:v.filter((function(e,t){return t%2==0})),_=null==v?void 0:v.filter((function(e,t){return t%2!=0}));return P&&_&&P.length!==_.length&&_.push({}),p&&h?r.createElement(I.ZP,{payload:T},r.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()}},r.createElement("div",{className:mr().mask,onClick:N}),r.createElement(qe.Z,{HWRatio:"calc(51.5625% + 34px)",className:mr().container,childContainerClassName:mr().content},r.createElement(I.ZP,{payload:E},r.createElement("div",{className:mr().titleWrap},r.createElement("div",{className:mr().title},p),r.createElement("div",{className:mr().close,onClick:N},r.createElement(Ie,{className:mr().closeIcon})))),r.createElement("div",{className:mr().recommendsListWrap},r.createElement("div",{className:mr().recommendList},r.createElement("div",{className:mr().recommendsWrap,ref:b,style:w},null==P?void 0:P.map((function(e,t){var n=e||{},l=n.imageUrl,i=n.recommend;return l?r.createElement("div",{className:mr().itemWrap,key:t,onClick:C(e)},r.createElement("div",{className:mr().imgWrap},r.createElement(g.ZP,{wrapperClass:mr().img,src:l,alt:i,lazy:a,processParam:{resizeWidth:100,webpEnable:o}})),r.createElement("div",{className:mr().words},i)):null}))),r.createElement("div",{className:mr().recommendsWrap,style:w},null==_?void 0:_.map((function(e,t){var n=e||{},l=n.imageUrl,i=n.recommend;return l?r.createElement("div",{className:mr().itemWrap,key:t,onClick:C(e)},r.createElement("div",{className:mr().imgWrap},r.createElement(g.ZP,{lazy:a,wrapperClass:mr().img,src:l,alt:i,processParam:{resizeWidth:100,webpEnable:o}})),r.createElement("div",{className:mr().words},i)):null})))),k())))):null}var yr=(0,r.memo)(hr),br=n(4790),wr=n(29696),kr=n.n(wr);function Sr(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function Er(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Sr(a,r,o,l,i,"next",e)}function i(e){Sr(a,r,o,l,i,"throw",e)}l(void 0)}))}}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xr(){return xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xr.apply(this,arguments)}function Ir(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function Cr(e){var t,n,o,l=e.pageSn,i=e.webpEnable,s=e.data,c=e.onClose,u=e.goodsId,d=e.cartScene,p=e.isWindows,v=e.onMouseEnter,h=e.onMouseLeave,y=(e.grayConfig,s||{}),b=y.title,w=y.goodsList,k=(null==w?void 0:w[0])||{},S=k.title,E=k.thumbUrl,T=k.image,C=k.priceInfo,N=k.seoLinkUrl,P=k.linkUrl,_=k.cartAmount,A=k.pRec,W=k.goodsId,L=k.salesTipText,O=k.salesTipTextList,D=k.uniqueId,j=k.gcId,G=k.gcGoodsList,z=k.extendFieldsForSku,B=k.extendFields.skuExtraParam,Z=void 0===B?{}:B,U=be({salesTipText:L,salesTipTextList:O}).salesTipValue,F=C?(0,we.Ig)(C,"",l,u):{},H=F.showPriceStr,q=F.showMarketPriceStr,V=F.reductionTextStr,Q=F.unitPrefix,K=F.unitSuffix,Y=F.priceColor,J=(0,r.useRef)(null),X={page_el_sn:218786,main_goods_id:u,goods_id:W,source_goods_id:u,rec_goods_id:W,idx:0,show_currency:null==C?void 0:C.currency,show_price:(null==C?void 0:C.price)||((null==C||null==(t=C.priceText)?void 0:t.length)>1?100*+C.priceText[1]:""),show_sales:U&&U.length>0?U[0]:"",p_rec:JSON.stringify(A),unique_id:D,gc_id:j,gc_goods_list:null!=(o=null==G||null==(n=G.join)?void 0:n.call(G,","))?o:null},$={page_el_sn:200061,cart_scene:d,goods_btn_idx:0,main_goods_id:u,goods_id:u,source_goods_id:u,rec_goods_id:W,p_rec:JSON.stringify(A)},ee=pe({cartAmount:_||0,autoAddSingleSku:!1,tracking:{source:"releatedGoodsToCart"},imprEventData:$,clickEventData:$,pageSn:l,params:xr({},(0,m.D1)(z||{}),{goods_id:W,gc_id:j,gc_goods_list:G},(0,m.D1)(Z||{})),cartScene:d}),te=ee.cartAmount,ne=ee.onClick,re=(0,r.useCallback)(Er((function(e){return Ir(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),null==e||e.stopPropagation(),[4,(0,x.ax)(X).catch((function(){}))];case 1:return t.sent(),(0,R.jm)((0,f.ru)({refer_page_el_sn:218786},(0,M.YK)(N||P)),{openTarget:"_blank"}),[2]}}))})),[]),oe=(0,r.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),c&&c()}),[]);if(!S)return null;var ae=xr({alignItems:K?"baseline":"center"},Y?{color:Y}:{}),le=String(H||"").length+String(Q||"").length+String(K||"").length;return r.createElement(I.ZP,{payload:X},r.createElement("div",null,r.createElement("div",{className:kr().mask,onClick:oe}),r.createElement(qe.Z,{HWRatio:"calc(42.1875% + 34px)",className:kr().container,childContainerClassName:kr().content,onClick:re},r.createElement("div",{className:kr().titleWrap},r.createElement("div",{className:kr().title},b),r.createElement("div",{className:kr().close,onClick:oe},r.createElement(Ie,{className:kr().closeIcon}))),r.createElement("div",{className:kr().releatedWrap},r.createElement(qe.Z,{HWRatio:.4152542372881356,className:kr().imgWrap},r.createElement(g.ZP,{lazy:!1,src:(null==T?void 0:T.url)||E,className:kr().img,"aria-hidden":!0,alt:S,processParam:{resizeWidth:192,webpEnable:i}})),r.createElement("div",{className:kr().goodsDetail,ref:J},r.createElement("div",{className:kr().goodsName},S),r.createElement("div",{className:kr().marketPriceWrap},r.createElement("div",{className:kr().marketPrice},q),r.createElement(br.V,null,V)),r.createElement("div",{className:kr().priceWrap,"data-ignore":!0},r.createElement("div",{"data-type":"goodsPrice",className:a()(kr().goodsPrice,Tr({},kr().isWindows,p),Tr({},kr().goodsPriceLong,le>=8)),style:ae},!!Q&&r.createElement("span",{className:kr().pricePrefix},Q),r.createElement("span",{className:kr().price},H),!!K&&r.createElement("span",{className:kr().priceSuffix},K)),r.createElement(zt.Z,{"data-ignore":!0,cartAmount:te,addCart:ne,onMouseEnter:v,onMouseLeave:h})))))))}var Nr=(0,r.memo)(Cr),Pr=(n(69867),n(52164)),_r=n(42275),Ar=n.n(_r);function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lr(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function Or(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Lr(a,r,o,l,i,"next",e)}function i(e){Lr(a,r,o,l,i,"throw",e)}l(void 0)}))}}function Mr(){return Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mr.apply(this,arguments)}function Rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function jr(e){var t=e.pageSn,n=e.goodsId,o=e.onCloseBtnClick,s=e.webpEnable,c=e.isSmall,u=e.mallId,d=Rr((0,r.useState)({url:"",text:"",richTextBlock:null}),2),m=d[0],p=d[1],v=(0,(0,i.$)("bec-fe.bui-web-goods-list").t)("similar.viewMore"),h=m||{},y=h.url,b=h.richTextBlock,w=Rr((0,r.useState)([]),2),k=w[0],S=w[1],E=(0,r.useRef)(k),T=(0,r.useRef)(!1),C=He({column:3,len:(null==k?void 0:k.length)+1,classConfig:{arrowCls:Ar().arrowCls}}),N=C.slidesRef,P=C.listStyle,_=C.renderPageTurner,W=C.resetCardNo,L=(0,r.useCallback)((function(){var e={listId:(0,l.x)(),offset:0,pageSize:10,pageSn:t,scene:"local_mall_odr_fl",mainGoodsIds:[n],mall_id_list:[u],pageElSn:233196};(0,j.S6)({url:(0,j.mx)("/api/poppy/v1/shipping",e),params:e,config:{useAntiToken:!0}}).then((function(e){var t,n=(null==e||null==(t=e.result)?void 0:t.data)||{},r=n.mainTitle,o=n.goodsList;S(o||[]),p(r),W(),E.current=o})).catch((function(){}))}),[n,u,t,W]);(0,r.useEffect)((function(){L()}),[L]),(0,r.useEffect)((function(){var e=function(){},t=setTimeout((function(){e=(0,ae.Kd)((function(){L()}))}),1500);return function(){e(),clearTimeout(t)}}),[L]),(0,r.useEffect)((function(){var e=(0,A.H4)((function(e){var t,n,r=null==(t=Object.keys(e||{}))?void 0:t[0];if(!!(null==(n=E.current)?void 0:n.filter((function(e){return+(null==e?void 0:e.goodsId)==+r}))))return L();o()}));return function(){"function"==typeof e&&e()}}),[n,o,L]);var O=(0,r.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),o()}),[o]),D=(0,r.useCallback)(Or((function(e){return Dr(this,(function(t){return null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,R.jm)(y,{openTarget:"_blank"}),T.current=!0,(0,x.ax)({page_el_sn:233197,main_goods_id:n,mall_id:u}),[2]}))})),[n,u,y]),G=(0,r.useCallback)((function(e,t,n){null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,R.jm)((0,M.YK)(t),{openTarget:"_blank"}),(0,x.ax)(n)}),[]),z=(v||"").slice(0,8);if((v||"").slice(8).split("").forEach((function(e){e&&(z+=" "===e?" ":e+"­")})),!(null==b?void 0:b.textRich)||(null==k?void 0:k.length)<3)return null;return r.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()},className:Ar().enhanceLayer},r.createElement(qe.Z,{HWRatio:"calc(42.1875% + 52px)",className:Ar().container,childContainerClassName:Ar().content},r.createElement(I.ZP,{payload:{page_el_sn:233197,main_goods_id:n,mall_id:u}},r.createElement("div",{className:Ar().titleContent,onClick:D},r.createElement(Pr.Fv,{newRichText:b,className:Ar().titleWrap}),r.createElement("div",{className:Ar().close,onClick:O},r.createElement(Ie,{className:Ar().closeIcon})))),r.createElement("div",{className:Ar().listWrap},r.createElement("div",{className:Ar().list},r.createElement("div",{className:Ar().items,ref:N,style:P},k.map((function(e,o){var l,i,u,d;if(o>9)return null;var m,p,v,h=e.priceInfo,y=e.goodsId,b=e.tagsInfo,w=e.extendFields,k=e.seoLinkUrl,S=e.linkUrl,E=e.pRec,T=(w||{}).engIcon,x=null==b||null==(u=b.goodsTags)||null==(i=u.filter((function(e){return 91004===(null==e?void 0:e.tagId)})))||null==(l=i[0])?void 0:l.text,C=(0,we.Ig)(h,"",t,y),N=C.unitPrefix,P=C.showPriceStr,_=C.unitSuffix,A=C.priceColor,W=Mr({alignItems:_?"baseline":"center"},A?{color:A}:{}),L=E||{},O=L.show_price,M=L.show_currency,R=L.show_sales,D={page_el_sn:233196,main_goods_id:n,p_rec:JSON.stringify(E),rec_goods_id:y,idx:o,show_price:O,show_currency:M,show_sales:R};return r.createElement(I.ZP,{payload:D},r.createElement("div",{className:Ar().item,onClick:function(e){return G(e,k||S,D)}},r.createElement(qe.Z,{HWRatio:1,className:Ar().goodsImgContainer},r.createElement(g.ZP,{src:(0,f.Hm)(e.hdThumbUrl||e.thumbUrl||(null==(d=e.image)?void 0:d.url)||""),className:Ar().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:s},alt:e.title||e.goodsName||""}),!!x&&r.createElement("div",{className:Ar().tagWrap},r.createElement(br.V,{type:"gray"},x)),!!(null==T?void 0:T.engThumbUrl)&&r.createElement(Re,{data:T,goodsId:y,size:"s"})),r.createElement("div",{className:Ar().goodsPrice,style:W},N?r.createElement("span",{className:Ar().pricePrefix},N):null,r.createElement("span",{className:a()(Ar().price,(m={},p=Ar().isSmall,v=c,p in m?Object.defineProperty(m,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[p]=v,m))},P),_?r.createElement("span",{className:Ar().priceSuffix},_):null)))})),r.createElement("div",{className:a()(Ar().viewMoreWrap),onClick:D},r.createElement("div",{className:Ar().viewMoreTextWrap},r.createElement(Pe,{className:Ar().viewMoreLogo}),r.createElement("div",{className:Ar().viewMoreText},z))))),_())))}var Gr=(0,r.memo)(jr),zr=n(62937),Br=n.n(zr),Zr=function(e){var t=e.className,n=e.data,o=((null==n?void 0:n.extMap)||{}).discountPromotionTag,l=("string"==typeof o?(0,u.as)(o,{}):o)||{},i=l.text_color,s=l.bg_url,c=l.height,d=l.text,m=l.text_dx,f=l.width;return d&&s&&c&&f?r.createElement("div",{style:{width:f,height:c,lineHeight:c+"px",backgroundImage:"url("+s+")",color:i,paddingInlineStart:m},className:a()(Br().headTagWrap,t)},d):null},Ur="discount_price_timeout",Fr="discount_price_info_update",Hr=n(10360),qr=n(50716),Vr=n.n(qr);function Qr(){return Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(this,arguments)}var Kr=function(e){var t=e.endTime,n=e.className,o=void 0===n?"":n,l=e.showMillisecond,i=void 0!==l&&l,s=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["endTime","className","showMillisecond"]),u=c().nowTime,d=(0,Hr.Z)(t,u)||{},m=d.day,f=d.hour,p=d.minute,v=d.second,g=d.millisecond,h=void 0===g?0:g;return r.createElement("div",Qr({className:a()(Vr().ticker,o),dir:"ltr"},s),r.createElement(rt.Z,{enable:!0},m>0?r.createElement("span",{className:Vr().time},m,":"):null,r.createElement("span",{className:Vr().time},f,":"),r.createElement("span",{className:Vr().time},p,":"),r.createElement("span",{className:Vr().time},v),!!i&&!!h&&m<=0&&r.createElement("span",{className:Vr().time,"aria-hidden":!0},":",String(h).slice(0,1))))},Yr=n(32083),Jr=n.n(Yr);function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var eo=(0,P.Pf)((function(e){var t=e.data,n=e.goodsId,o=null==t?void 0:t[0],a=o.endTime,l=o.text,i=c().nowTime,s=(0,r.useRef)(!0),u=(0,r.useRef)(),d=0,m=$r((0,r.useState)(),2),f=m[0],p=m[1];i&&a&&(d=d<0?d:a-i),(0,r.useEffect)((function(){d<=0&&!s.current&&(document.dispatchEvent(new CustomEvent(Ur,{detail:{goodsId:n}})),s.current=!0)}),[n,d]);var v=!l||d<=0;return(0,r.useEffect)((function(){s.current=!1}),[]),(0,r.useEffect)((function(){if(!v&&u.current){var e=u.current.clientWidth,t=u.current.scrollWidth;p({fontSize:t>e?"12px":"13px"})}}),[v]),v?null:r.createElement("div",{className:Jr().discountPriceTag,style:{opacity:f?"1":"0"}},r.createElement(g.ZP,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAKCAYAAAHdm37DAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGqADAAQAAAABAAAACgAAAAAsKSGIAAABP0lEQVQ4EbVTu0rEQBQ9NxuzLqjYiyAqggj+goVYra2fYLGoYCHJgo2dulptIfgTltpY2Ao2FlaChWwlgpWwm9fxZmXETBILxcBw557HnMkMA5R9USDMRoGTqI0AlCNl+mJo7mIyrssbiMuRDpsG/7naIcPl7FT3mE7lMqGP7YGPxTLB1+YycrCHZacm97ZQRU+aMGfjf++zxDBAq2ql3PYyUdSWGz2/FWNwE47JKd5Nn9WcSU+qp9jUd0E2T1IujJ7g0eBDEzdQi2elr6BrCLuS3PI6OLPxf+1zv1SVxB3Uk4bTpXBTNcaT6LTrNlJfDhBXeQ1uTKbPVe5jOo7lSsGlHFFs7vRimnoxL0XqEykNinysQuRCJRNVxgr8lQ7XvUPc2rzQx3gomNEHsiaQlj7XeVv0y/6B4DmJay/F8wdjTWGlG/zmMgAAAABJRU5ErkJggg==",className:Jr().arrow}),r.createElement("div",{className:Jr().tagContent},r.createElement("div",{className:Jr().text,style:f,ref:u},l),r.createElement(Kr,{endTime:a,className:Jr().countDown})))})),to=n(65522),no=n(28037),ro=n.n(no);var oo=function(e){var t,n,o,l=e.processTrackingInfo,i=e.className,s=e.ratio,c=e.salesPercentStr,u=e.fill,d=void 0===u?"#fb7707":u,m=e.withCart,f={width:s+"%"};return r.createElement(I.ZP,{payload:{page_el_sn:null==l?void 0:l.pageElSn}},r.createElement("div",{className:a()(ro().wrap,i)},r.createElement("div",{className:a()(ro().processWrap,(t={},n=ro().withCart,o=m,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},r.createElement("div",{className:ro().process,style:f})),r.createElement("div",{className:ro().textLine},s>=65&&r.createElement(to.i0,{path:"M432.1 0c149.7 87.7 250.7 246.3 254.3 428.1 30.2-30.1 52.4-68 63-110.3l0.8-3.2c88.8 68.6 145.8 174.8 145.8 293.9 0 6.8-0.2 13.6-0.6 20.4 0.4 6.8 0.6 13.6 0.6 20.5 0 206.9-171.9 374.6-384 374.6-212.1 0-384-167.7-384-374.6 0-103.1 42.7-196.4 111.7-264.2 91.9-104.6 158.1-231.2 189.3-370.5l3.1-14.7z",style:{fill:d},className:ro().fireIcon}),!!c&&r.createElement("div",{className:ro().txt},c))))},ao=n(7767),lo=n(31509),io=n.n(lo),so=function(e){var t=e.firstInstallmentTag,n=e.className,o=e.lazy,l=(null==t?void 0:t[0])||{},i=l.text,s=l.color,c=l.urls,u=(0,W.lO)().supportWebp;return i&&(null==c?void 0:c.length)?r.createElement("div",{className:a()(io().payTagWrap,n)},r.createElement("div",{className:io().text,style:{color:s}},i),r.createElement("div",{className:io().imgWrap},c.map((function(e){return e?r.createElement(g.ZP,{lazy:o,src:e,className:io().img,"aria-hidden":!0,processParam:{webpEnable:u,resizeWidth:70}}):null})))):null},co=n(79794),uo=n(10644),mo=(n(68164),n(23075)),fo=n(8524),po=n(96236),vo=n(41989),go=n.n(vo);function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bo(){return bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}function wo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ko=function(e){var t,n=e.className,o=e.commonTrackingInfo,l=e.trackingGoodsInfo,i=e.skcTrackingInfo,s=e.setSkcIndex,c=e.currentSkcIndex,u=e.skcList,d=e.setSkcLoading,m=e.webpEnable,f=e.imageProcessParam,p=e.alt,v=(0,W.lO)().isRTL,g=null!=(t=null==u?void 0:u.length)?t:0,h=g>8?null==u?void 0:u.slice(7):[],y=wo((0,r.useState)(!1),2),b=y[0],w=y[1],k=(0,r.useRef)(null),S=(0,r.useRef)(0),E=(0,r.useRef)({0:!0}),T=(0,r.useCallback)((function(e){var t;E.current[e]=!0;var n=new Image,r=null==u||null==(t=u[e])?void 0:t.galleryUrl;r&&(n.src=(0,mo.FT)(r,f))}),[u]),I=(0,r.useCallback)((function(e){var t;null==d||d(!0),E.current[e]=!0;var n,r=new Image,o=null!=(n=null==u||null==(t=u[e])?void 0:t.galleryUrl)?n:"";if(o){r.src=(0,mo.FT)(o,f);var a=function(){s(e),null==d||d(!1),S.current&&clearTimeout(S.current),0!==e&&T(e-1),e!==g-1&&T(e+1)};r.onload=a,r.onerror=a}}),[u,g]),C=(0,r.useCallback)((function(e){var t=+e.currentTarget.dataset.index||0;t>0&&E.current[t]?s(t):S.current=window.setTimeout((function(){I(t)}),0),(0,x.wI)(bo({},o,l,i||{},{page_el_sn:215487}))}),[]),N=(0,r.useCallback)((function(){S.current&&clearTimeout(S.current)}),[]);(0,r.useEffect)((function(){return function(){S.current&&clearTimeout(S.current)}}),[]);var P,_=function(){if(!(null==h?void 0:h.length))return null;var e={},t={};if(k.current){var n=getComputedStyle(k.current.children[0])||{},o=parseFloat(n.width),l=parseFloat(v?n.marginLeft:n.marginRight),i=Math.min(h.length,7);e={width:o*i+l*(i-1)+"px"},t={width:o+"px",height:o+"px"},v?t.marginLeft=l+"px":t.marginRight=l+"px"}return r.createElement("div",{className:a()(go().skcListWrapper,go().bubbleWrap),style:e},h.map((function(e,n){var o=e.galleryUrl,l=e.colorImage,i=n+8-1;return r.createElement("div",{className:a()(go().skcItemWrapper,yo({},go().active,i===c)),onMouseEnter:C,onMouseLeave:N,"data-index":i,key:i,style:t},l&&o?r.createElement(fo.I,{src:(0,mo.FT)(l,{resizeWidth:18,webpEnable:m,quality:70}),className:go().skcImg,"aria-hidden":!0,alt:p}):null)})))};return(null==u?void 0:u.length)?r.createElement("div",{className:a()(go().skcWrapper,n,(P={},yo(P,go().skcWrapper8,8===g),yo(P,go().skcWrapperLess8,g<8),P))},r.createElement("div",{className:go().skcListWrapper,ref:k},u.slice(0,g>8?7:8).map((function(e,t){var n=e.galleryUrl,o=e.colorImage;return r.createElement("div",{className:a()(go().skcItemWrapper,yo({},go().active,t===c)),onMouseEnter:C,onMouseLeave:N,"data-index":t,key:t},o&&n?r.createElement(fo.I,{src:(0,mo.FT)(o,{resizeWidth:18,webpEnable:m,quality:70}),className:go().skcImg,"aria-hidden":!0,alt:p}):null)}))),g>8&&r.createElement("div",{className:go().skcNumWrap},r.createElement("div",{className:go().skuNumMain},r.createElement(po.Z,{showArrow:!1,overlay:r.createElement(_,null),placement:"bottom",onVisibleChange:function(e){e&&!b&&w(!0),!e&&b&&w(!1)}},r.createElement("div",{className:go().skcNum},g-8+1,r.createElement("div",{className:go().bubbleArrowWrap,style:{visibility:b?"visible":"hidden",left:g-8+1>=10?"1px":"-3px"}},r.createElement(to.eb,{className:go().bubbleArrow,viewBox:"0 0 22 8"}))))),r.createElement("div",{className:go().skuNumBlank}))):null},So=(0,r.memo)(ko),Eo=n(2793),To=n(6653),xo=n.n(To);function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Po,_o=function(e){var t,n,o,l,i,s,u,d=e||{},m=d.header,f=d.footer,p=d.serverTime,v=d.rowNum,g=d.style,h=d.onEnd,y=d.contentClassName,b=d.showMillisecond,w=void 0!==b&&b,k=null!=(n=null!=(t=null==m?void 0:m.text)?t:null==e?void 0:e.activityName)?n:"",S=null!=(i=null!=(l=null!=(o=null==f?void 0:f.endTime)?o:null==e?void 0:e.endTime)?l:null==e?void 0:e.marketPriceEndTime)?i:"",E=null!=(u=null!=(s=null==f?void 0:f.text)?s:null==e?void 0:e.endsName)?u:"",T=p||Date.now(),x=S&&(0,we.mr)(S),I=(0,r.useRef)(x&&x+2e3>T),C=c().nowTime,N=0;C&&I.current&&(N=x-C);var P=N>0,_=!(k||E||x)||x&&!P;(0,r.useEffect)((function(){_&&(null==h||h())}),[_]);var A=No((0,r.useState)({}),2),W=A[0],L=A[1],O=(0,r.useRef)(),M=(0,r.useRef)();if((0,r.useEffect)((function(){if(O.current&&M.current){var e=O.current.offsetWidth;L({maxWidth:"calc(100% - "+e/2+"px)"})}}),[]),_)return null;var R,D=E?r.createElement("span",{className:xo().text},E):null,j=k&&(x&&P||D);return r.createElement("div",{className:xo().wrap,style:g},r.createElement("div",{className:a()(xo().wrapContent,(R={},Co(R,xo().onlyShowName,!x||!P),Co(R,xo().sixCard,6===v),R)),style:g},r.createElement("div",{className:a()(xo().content,y),ref:O},k),j?r.createElement("div",{className:xo().line,style:{background:null==g?void 0:g.color}}):null,x&&P?r.createElement("div",{className:xo().countDown},r.createElement(Kr,{endTime:x,showMillisecond:w}),D):r.createElement("div",{className:xo().textWrap,style:W,ref:M},D)))},Ao=(0,r.memo)(_o);!function(e){e[e.center=1]="center"}(Po||(Po={}));var Wo=n(34404),Lo=n.n(Wo);function Oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mo,Ro,Do=function(e){var t,n,o=e.header,l=e.url,i=e.footer,s=e.iconImg,u=e.className,d=e.lazy,m=void 0!==d&&d,f=e.ph,p=e.textCentered,v=e.promotionStyle,h=e.textYPercent,y=e.classConfig,b=e.serverTime,w=e.rowNum,k=e.showMillisecond,S=void 0!==k&&k,E=(0,W.lO)().isRTL,T=o||{},x=T.text,I=T.color,C=i||{},N=C.endTime,P=C.text,_=C.color,A=(null==o?void 0:o.dx)||(null==i?void 0:i.dx)||0,L=p===Po.center,O=1===v,M=2===v,R=x&&P&&!O&&!M,D={color:I,marginTop:R?"1.6%":"0px"},j={color:_},G=(0,we.mr)(N||e.endTime||""),z=b||Date.now(),B=(0,r.useRef)(G&&G+2e3>z),Z=c().nowTime,U=0;Z&&B.current&&(U=G-Z);var F=U>0;if(!l||G&&!F)return null;var H=!x&&P&&!O&&!M&&F&&G&&((null==P||null==(n=P.trim)||null==(t=n.call(P))?void 0:t.length)>10||G-z>we.dJ+2e3),q=f?{paddingBottom:100*f+"%"}:{},V={width:L?"200%":2*(1-A)*100+"%"};E?V.right=L?"0px":100*A+"%":V.left=L?"0px":100*A+"%",f&&h&&(V.paddingTop=f*h*2*100+"%");var Q,K,Y,J=F&&G&&M&&s;return r.createElement("div",{className:a()(Lo().container,u,null==y?void 0:y.container,(Y={},Oo(Y,Lo().double,R),Oo(Y,Lo().isCenter,L),Oo(Y,Lo().promotionStyle1,1===v),Oo(Y,Lo().showFlashSeparator,J),Oo(Y,Lo().isCountDownDays,H),Oo(Y,Lo().isMore,(null!=(Q=null==x?void 0:x.length)?Q:0)>22||(null!=(K=null==P?void 0:P.length)?K:0)>14&&F&&G),Oo(Y,Lo().sixCard,6===w),Y)),style:q,tabIndex:-1},l?r.createElement(g.ZP,{src:l,lazy:m,className:a()(Lo().image,null==y?void 0:y.image),"aria-hidden":!0,alt:""+(x||""),processParam:{resizeWidth:512,quality:100}}):null,r.createElement("div",{className:a()(Lo().content,null==y?void 0:y.content),style:V},x?r.createElement("div",{className:a()(Lo().header,null==y?void 0:y.header,Oo({},Lo().singleLine,!(F&&G))),style:D,role:"link"},x):null,F&&G?r.createElement("div",{className:a()(Lo().footer,null==y?void 0:y.footer,Oo({},Lo().singleLine,!x&&P&&F&&G)),style:j},J?r.createElement(g.ZP,{alt:x,lazy:m,src:s,className:Lo().flashClockImg,processParam:{resizeWidth:33,quality:100}}):null,r.createElement("span",{className:a()(Lo().footerText,null==y?void 0:y.footerText),role:"link"},P),r.createElement(Kr,{endTime:G,className:a()(Lo().countDown,null==y?void 0:y.countDown),style:{color:_},role:"link",showMillisecond:S})):null))},jo=(0,r.memo)(Do),Go=n(68432),zo="ADD_CART_BTN_SUCCESS_EVENT";!function(e){e[e.SelfOperated=0]="SelfOperated",e[e.LocalWareHouse=1]="LocalWareHouse"}(Mo||(Mo={})),function(e){e[e.FlashSale=2]="FlashSale",e[e.Promotion=100]="Promotion"}(Ro||(Ro={}));var Bo=n(37818),Zo=n.n(Bo);function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fo(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function Ho(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){Fo(a,r,o,l,i,"next",e)}function i(e){Fo(a,r,o,l,i,"throw",e)}l(void 0)}))}}function qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(){return Vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}function Qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var Yo=function(){},Jo=(0,r.memo)((function(e){var t=e.tooltipProps,n=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["tooltipProps"]);return t?r.createElement(ke.IH,t,r.createElement(et,n)):r.createElement(et,n)})),Xo="undefined"!=typeof document&&"ontouchstart"in document,$o=(0,r.memo)((function(e){var t,n,o,s,c,h,y,b,w,k,S,E,G,z,V,Q,ee,te,oe,ae,le,ie=function(e){var t,n;return null!=(n=null==e||null==(t=e.filter)?void 0:t.call(e,(function(e){return void 0===e.select?!!(null==e?void 0:e.isHighValue):1===e.select})))?n:[]},se=function(e){var t,n;return null!=(n=null==e||null==(t=e.filter)?void 0:t.call(e,(function(e){return void 0===e.select?!(null==e?void 0:e.isHighValue):1===e.select})))?n:[]},ce=e.index,ue=e.pageSn,de=e.pageElSn,me=e.cartScene,fe=e.goodsInfo,ve=e.classNameWrap,ge=e.canAddToCart,Se=e.cartAmount,Ee=e.isMainGoods,Te=e.CustomGoodsBtn,xe=e.forwardGoodsParams,Ie=e.beforeClickCart,Ce=e.onGoodsClick,Ne=e.onQuickLookClick,Pe=e.onAddCartClick,_e=e.onSkuPanelClose,Ae=e.onSkuPanelSuccess,We=e.openGoodsWithNewTab,Le=void 0===We||We,Oe=e.openRecommendWordsWithNewTab,Me=void 0===Oe||Oe,De=e.quickLook,je=e.useCartBtn,Ge=e.webpEnable,ze=e.isShowSkc,Be=(e.isShowSimilar,e.isShowRecommendWords,e.isShowReleatedGoods,e.isShowProcess),Ze=void 0!==Be&&Be,Ue=e.processTrackingInfo,Fe=e.cardTrackingInfo,He=e.showDiscountOnName,Ve=void 0!==He&&He,Qe=e.grayConfig,Ke=e.startLazyIndex,Ye=e.imageRootMargin,Je=void 0===Ye?500:Ye,Xe=e.isOpenSaleInfoScale,$e=e.isShowHoverImage,et=void 0===$e||$e,tt=e.skuParams,nt=e.skuOptions,rt=e.goodsNameTag,ot=e.hoverTheme,at=void 0===ot?Go.P.DEFAULT:ot,lt=e.isShowComment,it=e.isShowBillboardTip,st=e.billboardTipProps,ct=e.autoShowSimilarCount,ut=void 0===ct?0:ct,dt=e.autoShowCategoryCardCount,mt=void 0===dt?0:dt,ft=e.autoShowRecommendWordsCount,pt=void 0===ft?0:ft,vt=e.autoShowReleatedGoodsCount,gt=void 0===vt?0:vt,ht=e.showMarketInfo,yt=e.commonGoodsTrackingInfo,bt=e.skcTrackingInfo,wt=e.recommendWordsTrackingInfo,kt=e.classConfig,St=e.setDatasource,Et=e.showSavePrice,Tt=e.renderTopTips,xt=e.renderBottomTips,It=e.renderTags,Ct=e.renderTagsBeforePrice,Nt=e.userAgent,Pt=e.goodsConfig,_t=e.serverTime,Wt=e.rowNum,Lt=void 0===Wt?5:Wt,Ot=e.renderCustomizeTags,Mt=e.listId,Rt=e.showMillisecond,Bt=e.addAutoShowSkuQuery,Zt=void 0!==Bt&&Bt,Ut=e.emageProgress,Ft=void 0===Ut||Ut,Ht=e.privateListId,qt=(e.hiddenTooltipItem,fe.title),Vt=fe.thumbUrl,Qt=fe.salesTipText,Kt=fe.salesTipTextList,Yt=fe.salesTip,Jt=fe.priceInfo,Xt=fe.linkUrl,$t=fe.seoLinkUrl,en=fe.pageAlt,tn=fe.image,nn=fe.hoverImage,rn=fe.goodsId,an=void 0===rn?"":rn,ln=fe.pRec,sn=fe.pSearch,cn=fe.mRec,un=fe.mTrc,dn=fe.ad,mn=fe.quickLook,fn=fe.goodsTags,pn=fe.specialTags,vn=void 0===pn?[]:pn,gn=fe.specIds,hn=fe.comment,yn=fe.commentNumTips,bn=fe.goodsScore,wn=fe.tagsInfo,kn=fe.promotionTagList,Sn=fe.video,En=fe.skcList,Tn=fe.noSalesTipText,In=fe.optType,Cn=fe.optId,Nn=fe.ext,Pn=fe.uniqueId,_n=fe.gcId,An=fe.gcGoodsList,Wn=fe.extendFieldsForSku,Ln=fe.extendFields,On=void 0===Ln?{}:Ln,Mn=(On.showSimilarItemsOnSkuClose,On.showRecommendWordsOnSkuClose,On.supportTagCarousel),Rn=void 0!==Mn&&Mn,Dn=On.titleRow,jn=void 0===Dn?1:Dn,Gn=On.showScoreNum,zn=void 0!==Gn&&Gn,Zn=On.saleFireFlag,Un=void 0!==Zn&&Zn,Fn=On.skuExtraParam,Hn=void 0===Fn?{}:Fn,Vn=On.engIcon,Qn=void 0===Vn?{}:Vn,Kn=fe.cardTrackingInfo,Yn=fe.HWRatio,er=void 0===Yn?1:Yn,tr=fe.activityType,nr=fe.wareHouseType,rr=fe.mallId,or=Vo({_oak_page_source:115},tt),ar=(0,W.lO)().localInfo,lr=+(null==ar?void 0:ar.region)===L.k6.us,ir=!0===(null==Qe||null==(t=Qe.cp55535)?void 0:t.value)&&lr,sr=(0,O.X2)(),cr=(0,i.$)("bec-fe.bui-web-goods-list"),dr=cr.t,mr=cr.i18n,fr=(0,r.useRef)(null),pr=(0,r.useRef)(null),vr=(0,r.useRef)(null),gr=Vo({open:!0},mn||{},De||{}),hr=(Pt||{}).cancelRobotLimit,br=Vo({webpEnable:Ge},g.DJ.GOODS_MIDDLE||{}),wr=Sn||{},kr=wr.videoUrl,Sr=wr.iconUrl,Er=wr.imageUrl,Tr=Qo((0,r.useState)(!1),2),xr=Tr[0],Ir=Tr[1],Cr=be({salesTipText:Qt,salesTipTextList:Kt}),Pr=Cr.salesTipValue,_r=Cr.useNewSalesTip,Ar=Pr,Wr=tr===Ro.FlashSale,Lr=Nn||{},Or=Lr.goodsActivitySalesRatioParam,Mr=Lr.activitySalesRatioContent,Rr=Ze&&!!Or&&Or>=0&&Or<=100,Dr=wn||{},jr=Dr.brandTags,zr=Dr.promotionTags,Br=Dr.billboardTags,Ur=Dr.topSpecTags,Hr=Dr.goodsAttributesTags,qr=void 0===Hr?[]:Hr,Vr=Dr.titleHeaderTags,Qr=void 0===Vr?[]:Vr,Kr=Dr.todayTags,Yr=Dr.activityIconTags,Jr=void 0===Yr?[]:Yr,Xr=Dr.firstInstallmentTag,$r=void 0===Xr?[]:Xr,to=Dr.specialOfferTag,no=void 0===to?[]:to,ro=null==(o=(null==wn?void 0:wn.goodsTags)||fn)||null==(n=o.map)?void 0:n.call(o,(function(e,t){return Vo({},e||{},{i:t})})),lo=(null==kn||null==(s=kn[0])?void 0:s.promotionTag)?kn[0]:null,io=(null==zr?void 0:zr.length)?zr[0]:null,mo=Qo((0,r.useState)(!1),2),fo=mo[0],po=mo[1],vo=(null==Qe?void 0:Qe.cp66199)||{},go=vo.value,ho=vo.supportRegionList,yo=void 0===ho?[]:ho,bo=!!go&&(null==yo||null==(c=yo.includes)?void 0:c.call(yo,+(null==ar?void 0:ar.region))),wo=null==Kr||null==(h=Kr[0])?void 0:h.text,ko=!!(null==Qe||null==(y=Qe.cp68731)?void 0:y.value)&&!!(null==wo?void 0:wo.length)&&wo,To=!!Nt&&(0,C.Y7)(Nt),xo=!!Nt&&!/macintosh|mac os x/i.test(Nt),Io=!!(null==Qe||null==(b=Qe.cp68730)?void 0:b.value)&&Zt,Co=(0,r.useContext)(ye.Z).disableLazy,No=(0,r.useRef)(0),Po=null==Jr?void 0:Jr[0],_o=(0,r.useMemo)((function(){return Ke&&(ce||0===ce)?ce>Ke:!Co}),[Co,Ke,ce]),Wo=Qo((0,r.useState)(!1),2),Lo=Wo[0],Oo=Wo[1],Do=(0,r.useCallback)((function(){Xo||Oo(!0)}),[Xo]),Bo=(0,r.useCallback)((function(){Xo||Oo(!1)}),[Xo]),Uo=ze?(En||[]).filter((function(e){return e.colorImage})):[],Fo=Uo.length>1,$o=Qo((0,r.useState)(0),2),ea=$o[0],ta=$o[1],na=(0,r.useMemo)((function(){if(Fo)return En[ea]}),[Fo,En,ea]),ra=(0,r.useMemo)((function(){var e,t,n;return Vo({p_rec:ln,p_search:sn,m_rec:cn,m_trc:un,ad:dn,idx:ce,g_idx:ce,goods_display_id:(0,l.x)(),show_currency:null==Jt?void 0:Jt.currency,show_price:(null==Jt?void 0:Jt.price)||((null==Jt||null==(e=Jt.priceText)?void 0:e.length)>1?100*+Jt.priceText[1]:""),show_sales:Ar&&Ar.length>0?Ar[0]:"",show_skc:Fo?1:0,unique_id:Pn,gc_id:_n,gc_goods_list:null!=(n=null==An||null==(t=An.join)?void 0:t.call(An,","))?n:null},Fe,Kn,yt)}),[]),oa=Ee?{goods_id:an}:{rec_goods_id:an},aa=Vo({},oa,ra,{goods_btn_idx:ra.idx,idx:void 0}),la=Vo({page_el_sn:200061,cart_scene:me,goods_id:an},aa),ia=ge&&!Te&&!je,sa=Qo((0,r.useState)(!1),2),ca=sa[0],ua=sa[1],da=(0,D.Z)({goodsId:an,pageSn:ue,scene:D.x.SIMILAR}),ma=function(e){var t=e.goodsId,n=e.scene,o=(0,r.useRef)(H),a=U((0,r.useState)(H),2),l=a[0],i=a[1],s=B((function(e){var r,o,a,l;return F(this,(function(i){switch(i.label){case 0:return o=n||e.scene,[4,(0,j.$h)(j.ce.SEARCH_HOT_QUERY,{mainGoodsIds:[t],scene:o})];case 1:return a=i.sent(),[2,null!=(l=null==a||null==(r=a.result)?void 0:r.data)?l:{}]}}))}));return Z({},l||{},{loadData:B((function(e){var t,n;return F(this,(function(r){switch(r.label){case 0:return(null==(t=o.current)?void 0:t.title)?[2]:[4,s(e)];case 1:return n=r.sent(),o.current=n,i(n),[2]}}))})),clear:function(){var e;return!!(null==(e=o.current)?void 0:e.title)&&(o.current=H,i(H),!0)}})}({goodsId:an,pageSn:ue,scene:D.x.RECOMMEND_WORDS_SKU_CLOSE}),fa=function(e){var t=e.goodsId,n=e.pageSn,o=(e.optType,e.optId),a=e.scene,l=(0,r.useRef)($),i=J((0,r.useState)($),2),s=i[0],c=i[1],u=K((function(){var e,r,l,i;return X(this,(function(s){switch(s.label){case 0:return r=(0,q.GN)(),[4,(0,j.$h)(j.ce.ADD_CART_SUCCESS_RECOMMEND,{mainGoodsIds:[t],scene:a,goodsBlackIds:(null==r?void 0:r.length)>0?r:[],offset:0,pageSize:3,pageSn:n,frontLeafCateId:o})];case 1:return l=s.sent(),[2,null!=(i=null==l||null==(e=l.result)?void 0:e.data)?i:{}]}}))}));return Y({},s||{},{loadData:K((function(){var e,t,n,r,o,a;return X(this,(function(i){switch(i.label){case 0:return(null==(e=l.current)?void 0:e.title)?[2]:[4,u()];case 1:return n=i.sent(),l.current=n,c(n),(r=null==n||null==(t=n.goodsList)?void 0:t[0].goodsId)?(o=(0,q.GN)(),(a=(null==o?void 0:o.length)>0?o.concat(r):[r])&&(0,q.$U)(a),[2]):[2]}}))})),clear:function(){var e;return!!(null==(e=l.current)?void 0:e.title)&&(l.current=$,c($),!0)}})}({goodsId:an,pageSn:ue,optType:In,optId:Cn,scene:D.x.ADD_CART_SUCCESS_RELEATED}),pa=(null==(w=da.goodsList)?void 0:w.length)>0,va=(null==(k=ma.recommendWords)?void 0:k.length)>0,ga=(null==(S=fa.goodsList)?void 0:S.length)>0,ha=(0,r.useMemo)((function(){var e=(null==tn?void 0:tn.url)||Vt,t=(0,we.Ig)(Jt,"",ue,an,Mt),n=Xe&&((0,we.Vq)(null==t?void 0:t.currency,null==mr?void 0:mr.resolvedLanguage)||ko);if(!Fo)return{showGoodsImg:e,showPriceInfo:t,showLinkUrl:Xt,showSeoLinkUrl:$t,showHoverImage:null==nn?void 0:nn.url,saleInfoEnableScale:n};var r=na||{},o=r.galleryUrl,a=r.priceStr,l=r.seoLinkUrl,i=r.linkUrl,s=r.priceInfo,c=r.hoverImage;return{showGoodsImg:o||e,showPriceInfo:s?(0,we.Ig)(s,a,ue,an,Mt):t,showLinkUrl:i||Xt,showSeoLinkUrl:l||$t,showHoverImage:(null==c?void 0:c.url)||(null==nn?void 0:nn.url),saleInfoEnableScale:n}}),[null==tn?void 0:tn.url,Vt,Jt,ue,an,Mt,Xe,null==mr?void 0:mr.resolvedLanguage,ko,Fo,na,Xt,$t,null==nn?void 0:nn.url]),ya=ha.showGoodsImg,ba=ha.showPriceInfo,wa=ha.showLinkUrl,ka=ha.showSeoLinkUrl,Sa=ha.showHoverImage,Ea=ha.saleInfoEnableScale,Ta=Sa&&!kr&&et,xa=(0,r.useMemo)((function(){return wa&&ka?(0,M.YK)(ka&&0!==(null==ka?void 0:ka.indexOf("?"))?ka:wa):"/goods.html?_bg_fs=1&goods_id="+an}),[wa,ka,an]);(0,r.useEffect)((function(){Oo(Xo),(0,j.KU)({pageSn:ue})}),[ue]);ae=null==Br||null==(G=Br[0])||null==(E=G.header)?void 0:E.text,le=null==Br||null==(V=Br[0])||null==(z=V.footer)?void 0:z.text;var Ia,Ca,Na,Pa=it&&(null==Br?void 0:Br[0].pw)&&(null==Br?void 0:Br[0].ph),_a=null==Ot?void 0:Ot(fe),Aa=!lo&&!!(null==ro?void 0:ro.length)&&(!To||(null==hr?void 0:hr.includes("goodsTags")))&&!_a,Wa=(!To||(null==hr?void 0:hr.includes("brandTags")))&&!(null==ro||null==(Q=ro.some)?void 0:Q.call(ro,(function(e){var t;return+(null!=(t=null==e?void 0:e.marketingTagType)?t:0)===we.oO.BRAND}))),La=!(null==ro?void 0:ro.some((function(e){var t;if(+(null!=(t=null==e?void 0:e.marketingTagType)?t:0)===we.oO.COMMENT){var n,r=(null==e||null==(n=e.extMap)?void 0:n.goodsScoreStarComment)&&(0,u.as)(e.extMap.goodsScoreStarComment,{});return r&&r.goods_score_text&&r.comment_num_tips}return!1}))),Oa=!lo&&!Aa&&"function"==typeof It,Ma=Qo((0,r.useState)(Aa?ie(ro):[]),2),Ra=Ma[0],Da=Ma[1],ja=Qo((0,r.useState)(Aa?se(ro):[]),2),Ga=ja[0],za=ja[1],Ba=Pa||!(null==Ra?void 0:Ra.length),Za=Qo((0,r.useState)(Ba),2),Ua=Za[0],Fa=Za[1],Ha=(Ia={width:null==Qn?void 0:Qn.width,height:null==Qn?void 0:Qn.height},Ca=Ia.height,Na=Ia.width,Ca&&Na?{width:Na/Ca*20}:{}).width,qa=(0,r.useRef)(),Va=ne({personalizationTagRef:qa,efficiencyTagWidth:Ha}).showPersonalization;(0,re.Z)((function(){try{var e,t,n,r,o;if(!(null==Ra?void 0:Ra.length)||!vr.current)return void Fa(!0);var a,l,i=(null!=(o=null==(e=vr.current.parentNode)?void 0:e.clientWidth)?o:0)-10,s=null!=(a=null==(n=vr.current.childNodes)||null==(t=n[0])?void 0:t.scrollWidth)?a:0;if(!i||!s||i>=s)return void Fa(!0);vr.current.style.fontSize="12px";for(var c=null!=(l=null==(r=vr.current.childNodes[0])?void 0:r.childNodes)?l:[],u=Ra,m=ro,f=0,p=!1,v=0;v<c.length;v++){var g,h;(f+=null!=(h=null==(g=c[v])?void 0:g.clientWidth)?h:0)<i?(u[v]=Vo({},u[v],{select:1}),m[u[v].index]=Vo({},m[u[v].index]||{},{select:0})):(u[v]=Vo({},u[v],{select:0}),m[u[v].index]=Vo({},m[u[v].index]||{},{select:1}),p=!0)}p&&(Da(ie(u)),za(se(m))),Fa(!0)}catch(e){Da([]),za(ro),Fa(!0),(0,d.K2)(e)}}),[]),(0,r.useEffect)((function(){mt>0&&ca||(0!==mt||ca)&&ua(mt>0)}),[mt]),(0,r.useEffect)((function(){pt>0&&va||(0!==pt||va)&&(pt>0?ma.loadData({scene:D.x.RECOMMEND_WORDS_GT_RETURN}):ma.clear())}),[pt]),(0,r.useEffect)((function(){ut>0&&pa||(0!==ut||pa)&&Ho((function(){return Ko(this,(function(e){switch(e.label){case 0:return ut>0?(sr.stageStart("api"),[4,da.loadData()]):[3,2];case 1:return e.sent(),sr.stageEnd("api"),[3,3];case 2:da.clear(),e.label=3;case 3:return[2]}}))}))()}),[ut]),(0,r.useEffect)((function(){gt>0&&ga||(0!==gt||ga)&&(gt>0?fa.loadData():fa.clear())}),[gt]);var Qa=(0,r.useCallback)((function(){null==St||St((function(t){return he(t,{goods_id:an,unique_id:Pn},e,{onSkuPanelClear:!0})}))}),[]),Ka=(0,r.useCallback)((function(){sr.start({type:"click"}),_e&&_e({goods_id:an}),null==St||St((function(t){return he(t,{goods_id:an,unique_id:Pn},e,{onSkuPanelClose:!0})}))}),[]),Ya=(0,r.useCallback)((function(){Ae&&Ae({goods_id:an}),null==St||St((function(t){return he(t,{goods_id:an,unique_id:Pn},e,{onSkuPanelSuccess:!0})}));try{var t=new CustomEvent(zo,{detail:{addCartGoodsId:an,addCartPrivateListId:Ht}});document.dispatchEvent(t)}catch(e){}}),[an,Ae,Ht,e,St,Pn]);(0,r.useEffect)((function(){var e=function(e){var t;if("10040"!==ue){var n=(null==e?void 0:e.detail)||{},r=n.addCartGoodsId;if(n.addCartPrivateListId===Ht){var o=r===an&&nr===Mo.LocalWareHouse&&(null==Qe||null==(t=Qe.cp82881)?void 0:t.value);Ir(o)}}};return document.addEventListener(zo,e),function(){document.removeEventListener(zo,e)}}),[an,null==Qe||null==(ee=Qe.cp82881)?void 0:ee.value,ue,Ht,nr]),(0,r.useEffect)((function(){var e;return(null==Qe||null==(e=Qe.cp82881)?void 0:e.value)?(0,A.H4)((function(e){var t=(null==e?void 0:e[an])>0;t&&Ir(t)})):function(){}}),[an,null==Qe||null==(te=Qe.cp82881)?void 0:te.value]);var Ja,Xa,$a,el=pe({cartAmount:(null==fe?void 0:fe.cartAmount)||Se||0,beforeClickCart:Ie,imprEventData:aa,clickEventData:aa,pageSn:ue,params:Vo({goods_id:an,_oak_spec_ids:gn||"",gc_id:_n,gc_goods_list:An},(0,m.D1)(Wn||{}),or||{},(0,m.D1)(Hn||{})),cartScene:me,defaultSpecId:null==na?void 0:na.specId,showGoodsImg:ya,webpEnable:Ge,userCloseCallback:Ka,callback:Ya,skuOptions:nt,cartBtnRef:pr}),tl=el.cartAmount,nl=el.onClick,rl=(0,r.useCallback)((function(e,t){Ne&&Ne({goods_id:an}),nl(e,t)}),[]),ol=(0,r.useCallback)((function(e){Pe&&Pe({goods_id:an}),nl(e)}),[]),al=(0,r.useCallback)((function(){(0,x.ax)({page_el_sn:222269}),null==Ja||Ja()}),[]),ll=(0,r.useCallback)((function(){var e;if(fr.current){for(var t=[],n=(null==(e=fr.current)?void 0:e.childNodes)||[],r=0;r<n.length;r++){var o,a;"1"===(null==(a=n[r])||null==(o=a.getAttribute)?void 0:o.call(a,"data-active"))&&t.push(n[r])}return(0,we.W5)(t,jr)}}),[]),il=(0,r.useMemo)((function(){var e={};return Fo&&(null==na?void 0:na.specId)&&(e.spec_id=na.specId),Io&&(e.auto_show_sku_panel=1),(0,f.ru)(Vo({refer_page_el_sn:de},xe||{},e),xa)}),[xa,xe,Fo,null==na?void 0:na.specId,de,Io]),sl=(0,r.useCallback)((function(){return il}),[il]),cl=(0,r.useCallback)(Ho((function(e){var t,n,r,o,a,l,i,s,c;return Ko(this,(function(u){switch(u.label){case 0:return Ce&&Ce({goods_id:an}),l=ll(),i=Pa?[]:null==ro||null==(n=ro.filter)||null==(t=n.call(ro,(function(e){var t;return 1==+((null==e||null==(t=e.extMap)?void 0:t.bringToDetailFlag)||"")})))?void 0:t.map((function(e){var t=e.extMap;return{img_url:e.url,img_urls:e.urls,content:null==t?void 0:t.extraText}})),(0,q.WQ)({goods_id:an,goods_tags:i}),(0,q.Xo)({goods_id:an,unique_id:Pn}),ya&&(0,_.p)(ya,Ge),s=Vo({},ra,oa,{page_el_sn:de,tag_list:l}),(null==e||null==(a=e.target)||null==(o=a.className)||null==(r=o.indexOf)?void 0:r.call(o,"skcImg"))>-1&&(s.choose_skc=1),No.current+=1,No.current>=2&&(s.is_snd_clk=1),[4,(0,x.ax)(s).catch((function(){}))];case 1:return u.sent(),c={},Le&&(c={openTarget:"_blank"}),il&&(0,R.jm)(il,c),[2]}}))})),[il,Le]),ul=(0,r.useCallback)((function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e),Ja=(0,v.Z)(r.createElement(on,{mainGoodsId:an,isWindows:xo,webpEnable:Ge,pageSn:ue,quickLook:mn,openGoodsWithNewTab:Le,onClose:al,addCart:ol,goodsInfo:fe,priceInfo:ba,skuParams:or,grayConfig:Qe}),{})}),[]),dl=(0,r.useRef)(null),ml=Qo((0,r.useState)(!1),2),fl=ml[0],pl=ml[1],vl=(0,r.useCallback)((function(){var e;kr&&!fl&&(pa||ca||ga||va||null==dl||null==(e=dl.current)||e.onStart({cb:function(e){pl(e)}}))}),[kr,fl,pa,ca,ga,va]),gl=(0,r.useCallback)((function(){var e;Sn&&(null==dl||null==(e=dl.current)||e.onStop({cb:function(e){return pl(e)}}))}),[kr,fl]),hl=(null==jr?void 0:jr.length)?jr[0]:{},yl=hl.text,bl=void 0===yl?"":yl,wl=hl.url,kl=void 0===wl?"https://aimg.kwcdn.com/upload_aimg/temu/f2cda539-4c39-4bce-afde-37ad4167120b.png":wl,Sl=Vo({},ra,oa,{page_el_sn:de,get tag_list(){var e,t,n,r=(null==(e=fr.current)?void 0:e.getAttribute("data-active"))||0,o=null==(n=fr.current)||null==(t=n.childNodes)?void 0:t[r];return(0,we.W5)([o],jr)}}),El=(0,r.useCallback)((function(e){ul(e)}),[]),Tl="function"==typeof Tt?Tt(fe):null,xl="function"==typeof xt?xt(fe):null,Il=(qo(Xa={},Go.P.DEFAULT,Zo().hoverThemeDefault),qo(Xa,Go.P.SCALE,Zo().hoverThemeScale),qo(Xa,Go.P.NONE,Zo().noHover),Xa),Cl=lt&&!je&&!Te&&(null==hn?void 0:hn.avatar)&&(null==hn?void 0:hn.comment),Nl=Cl?Zo().goodsWrapper:a()(Zo().goodsWrapper,ve,Il[at],(qo($a={},Zo().noHover,Lo),qo($a,Zo().showCategoryCard,ca),$a)),Pl=Qo((0,r.useState)({}),2),_l=Pl[0],Al=Pl[1];if((0,r.useEffect)((function(){var e=function(e){var t=((null==e?void 0:e.detail)||{}).data;(null==t?void 0:t.goodsId)===an&&Al(t)};return document.addEventListener(Fr,e),function(){document.removeEventListener(Fr,e)}}),[an]),!an)return null;var Wl,Ll,Ol,Ml,Rl,Dl,jl,Gl,zl,Bl,Zl="function"==typeof Ft?Ft(ce):Ft,Ul=(null==_l?void 0:_l.specialOfferTag)||no;return r.createElement(Xn.Z,{className:Nl,onClick:cl,title:qt,goodsId:an,noHover:Lo,type:Cl?Go.l.expand:Go.l.default,classConfig:null==kt?void 0:kt.goodsContainer,payload:Sl},r.createElement(ke.IH,{id:"goodsImage-"+an,title:qt,fixed:!0,hidden:fl,className:a()(Zo().item,"goods-image-container-external"),expandLeft:9,expandRight:9,expandTop:9},r.createElement(qe.Z,{HWRatio:er,onMouseEnter:vl,onMouseLeave:gl},r.createElement(N.ZP,{seoUrl:ka,jumpUrl:wa,className:a()(Zo().goodsImgContainer,qo({},Zo().multiImgFadeAniEnable,Ta)),onClick:Yo,index:ce,pageElSn:de,url:wa,generateMouseDownHref:sl},!!(null==Qn?void 0:Qn.engThumbUrl)&&r.createElement(Re,{data:Qn,goodsId:an,lazy:_o}),!io&&(null==tn?void 0:tn.watermark)?r.createElement(g.ZP,{lazy:_o,src:null==tn?void 0:tn.watermark,className:Zo().watermark,alt:en||qt,processParam:{resizeWidth:136,webpEnable:Ge}}):r.createElement(r.Fragment,null),ya?r.createElement(T,{rootMargin:"string"==typeof Je?Je:Je+"px",rootRef:null},r.createElement(Dt,{alt:en||qt,lazy:_o,src:ya,className:a()(er>1?Zo().goodsImgWithFullHeight:Zo().goodsImg,"goods-img-external"),processParam:br,emageProgress:Zl})):r.createElement("div",{className:Zo().noImgContainer}),Ta?r.createElement(Dt,{alt:en||qt,lazy:_o,src:Sa,wrapperClass:Zo().secFadeAni,processParam:br,emageProgress:Zl,className:a()(Zo().secFadeAni,er>1?Zo().goodsImgWithFullHeight:Zo().goodsImg)}):null,kr?r.createElement($n.Z,{ref:dl,poster:Er,videoURL:kr,isCrawler:To}):null,!!fo&&r.createElement("div",{className:Zo().masker},r.createElement("div",{className:Zo().loadingBall},r.createElement("span",{className:Zo().ballItem}),r.createElement("span",{className:Zo().ballItem}),r.createElement("span",{className:Zo().ballItem}))),pa&&!xr?r.createElement(r.Fragment,null,r.createElement(Jo,{tooltipProps:{id:"GoodsSimilar-"+an,title:qt,hidden:!0},mainGoodsId:an,title:dr("similar.title"),viewMoreText:dr("similar.viewMore"),goodsList:da.goodsList,webpEnable:Ge,onClose:Qa,onClickTitle:El,onClickViewMoreBtn:El,loggerParams:{main:205632,title:205652,viewMore:205633,goods:205634},isSmall:!!(0,we.FX)(null==ba?void 0:ba.currency),commonTrackingInfo:ra,trackingGoodsInfo:oa,pageSn:ue,grayConfig:Qe}),r.createElement(sr.End,{name:"pc_buiGoodsListShowSimilarAfterSkuClose"})):null,!ca||pa||xr?null:r.createElement(P.SV,null,r.createElement(ur,{pageSn:ue,goodsId:an,closeCategoryCard:Qa,lazy:_o,webpEnable:Ge,commonTrackingInfo:ra,trackingGoodsInfo:oa,grayConfig:Qe,optId:Cn,isSmall:!!(0,we.FX)(null==ba?void 0:ba.currency)})),va&&!xr?r.createElement(ke.IH,{id:"RecommendWords-"+an,hidden:!0,title:qt},r.createElement(yr,{lazy:_o,webpEnable:Ge,data:ma,onClose:Qa,commonTrackingInfo:ra,trackingGoodsInfo:oa,recommendWordsTrackingInfo:wt,openRecommendWordsWithNewTab:Me})):null,ga&&!xr?r.createElement(ke.IH,{id:"ReleatedGoods-"+an,hidden:!0,title:qt},r.createElement(Nr,{pageSn:ue,cartScene:me,webpEnable:Ge,lazy:_o,goodsId:an,skuParams:or,data:{title:dr("similar.titleReleatedGoods"),goodsList:null==fa?void 0:fa.goodsList},trackingGoodsInfo:oa,onClose:Qa,onMouseEnter:Do,onMouseLeave:Bo,isWindows:xo,grayConfig:Qe})):null,!!xr&&r.createElement(Gr,{pageSn:ue,goodsId:an,onCloseBtnClick:function(){Ir(!1)},lazy:_o,webpEnable:Ge,mallId:rr,isSmall:!!(0,we.FX)(null==ba?void 0:ba.currency),privateListId:Ht})),Tl||null,xl||null,!Tl&&(Bl=((null==Ur?void 0:Ur[0])||{}).text,Pa?r.createElement(Jn,Vo({data:Br},st||{})):(null==Ra?void 0:Ra.length)>0?r.createElement("div",{className:Zo().topTipWrap,ref:vr,style:{opacity:Ua?1:0}},r.createElement("div",{className:Zo().topTipContent},null==Ra?void 0:Ra.map((function(e,t){var n,o=null==e||null==(n=e.extMap)?void 0:n.highValueTagStyle;"string"==typeof o&&(o=(0,u.as)(o,{}));var a=o||{},l=a.font_color,i=a.bg_color;return(null==e?void 0:e.text)?r.createElement("div",{key:t,className:Zo().topTip,style:{backgroundColor:i||"#000",color:l||"#fff"}},e.text):null})))):Bl?r.createElement("div",{className:Zo().personalizationTag,ref:qa,style:{opacity:Va?1:0}},r.createElement(g.ZP,{className:Zo().img,src:(0,p.H)("/upload_aimg/temu/b3d755bd-863b-4014-8776-ffa54cb1e505.png.slim.png"),lazy:_o}),r.createElement("div",{className:Zo().text},Bl)):null),!xl&&(Ml=function(){return bo?null:ir?Aa?r.createElement(Bn,{promotionTagInfo:io,normalTags:Ga,specialTagsInfo:vn[0],allGoodsTags:ro,ref:fr,openGoodsWithNewTab:Le,commonTrackingInfo:ra,trackingGoodsInfo:oa,showScoreNum:zn,grayConfig:Qe,pageSn:ue,goodsId:an,showGoodsTagRender:Ua,commonInfo:{webpEnable:Ge,lazy:_o,serverTime:_t,rowNum:Lt}}):null:io?r.createElement(jo,Vo({},io||{},{webpEnable:Ge,lazy:_o,classConfig:null==kt?void 0:kt.watermark,serverTime:_t,rowNum:Lt,showMillisecond:Rt})):null},Rl=!!(null==qr||null==(Wl=qr[0])?void 0:Wl.text),Dl=kr&&Sr,jl=(null==gr?void 0:gr.open)&&!To&&!Dl,Gl=Dl||jl||!!(null==qr||null==(Ll=qr[0])?void 0:Ll.text),zl=(!bo||tr!==Ro.Promotion)&&(null==vn?void 0:vn.length)>0,r.createElement("div",{className:Zo().bottomTips},Gl?r.createElement("div",{className:Zo().quickLookAndAttributesTags},!!Dl&&!Rl&&r.createElement(g.ZP,{lazy:_o,src:Sr,className:Zo().videoIconUrl,"aria-hidden":!0,alt:en||qt,processParam:br}),!!jl&&r.createElement(ke.IH,{className:Zo().quickLook,id:"QuickLook-"+an,title:((null==gr||null==(Ol=gr.text)?void 0:Ol.text)||dr("quickLookBtn")||"")+" - "+(qt||"")},r.createElement(At.Z,Vo({},gr,{addCart:rl,trackingInfo:aa,classConfig:null==kt?void 0:kt.quickLook}))),Rl?r.createElement(P.SV,null,r.createElement(qn,{className:Zo().attributesWrap,tags:qr,lazy:_o})):null):null,!To&&Ml(),To||Ml()||!zl?null:r.createElement(Ao,Vo({},vn[0]||{},{serverTime:_t,rowNum:Lt,showMillisecond:Rt})))))),r.createElement(ke.IH,{className:a()(Zo().item,Zo().nameWrap),id:"goodName-"+an,title:qt,fixed:!0,expandLeft:9,expandRight:9,expandTop:12},!!bo&&!!(null==Qr?void 0:Qr[0])&&r.createElement(Zr,{data:Qr[0]}),r.createElement(jt.Z,{name:qt,showDiscount:Ve,discount:null==ba?void 0:ba.reductionTextStr,headerTag:rt,classConfig:null==kt?void 0:kt.goodsName,titleRow:jn})),"function"==typeof Ct&&Ct(fe),r.createElement("div",{className:a()(Zo().saleInfo,Zo().item,qo({},Zo().noCart,!ia))},r.createElement(Gt.Z,{price:(null==_l?void 0:_l.showPriceStr)||(null==ba?void 0:ba.showPriceStr),pricePrefix:(null==_l?void 0:_l.unitPrefix)||(null==ba?void 0:ba.unitPrefix),priceSuffix:(null==_l?void 0:_l.unitSuffix)||(null==ba?void 0:ba.unitSuffix),marketPrice:ht?null:null==ba?void 0:ba.showMarketPriceStr,discount:ht?null:null==ba?void 0:ba.reductionTextStr,priceColor:(null==_l?void 0:_l.priceColor)||(null==ba?void 0:ba.priceColor),sales:Yt,salesArray:Ar,showDiscount:!Ve,noSalesTipText:Tn,enableScale:Ea,classConfig:null==kt?void 0:kt.sale,isCrawler:To,isWindows:xo,lazy:_o,webpEnable:Ge,className:Zo().saleInfoL,saleFireFlag:Un,useNewSalesTip:_r,showFlashSaleIcon:Wr,textBeforePrice:ko,textBeforeMetrics:{page_el_sn:231953},marketPriceIcon:null==ba?void 0:ba.marketPriceIcon,activityIconInfo:Po,splitPriceText:null==ba?void 0:ba.splitPriceText,unitPriceStr:null==ba?void 0:ba.unitPriceStr}),ia?r.createElement(I.ZP,{payload:la},r.createElement("div",{ref:pr},r.createElement(zt.Z,{cartAmount:tl,addCart:ol,className:Zo().saleInfoR,onMouseEnter:Do,onMouseLeave:Bo,grayConfig:Qe,activityType:tr}))):null),!!(null==Ul||null==(oe=Ul[0])?void 0:oe.text)&&r.createElement(eo,{data:Ul,goodsId:an}),Rr?r.createElement(oo,{ratio:Or,salesPercentStr:Mr,className:Zo().item,withCart:ge,processTrackingInfo:Ue}):null,ht&&!Et?r.createElement(ao.Z,{marketPrice:null==ba?void 0:ba.showMarketPriceStr,discount:null==ba?void 0:ba.reductionTextStr,className:Zo().item,prefix:dr("regularPricePrefix")}):null,ht&&Et?r.createElement(ao.Z,{marketPrice:null==ba?void 0:ba.saveTextStr,discount:null==ba?void 0:ba.reductionTextStr,className:Zo().item}):null,null,lo?r.createElement("div",{className:a()(Zo().item,Zo().promotionTagDiscount)},r.createElement("div",{className:Zo().promotionPrise},(lo.promotionPrice||[]).join("")),r.createElement("div",{className:Zo().promotionText},r.createElement("span",{className:Zo().promotionTextScale},lo.promotionTag))):null,!!(null==$r?void 0:$r.length)&&r.createElement(so,{firstInstallmentTag:$r,lazy:_o}),Aa&&!ir?Ua?r.createElement(co.Z,{data:Ga,className:Zo().item,ref:fr,supportTagCarousel:Rn,goodsId:an,openGoodsWithNewTab:Le,commonTrackingInfo:yt,trackingGoodsInfo:oa,grayConfig:Qe,pageSn:ue,showScoreNum:zn}):r.createElement(co.X,{data:Ga,className:Zo().item,ref:fr,goodsId:an,openGoodsWithNewTab:Le,commonTrackingInfo:yt,trackingGoodsInfo:oa,grayConfig:Qe,pageSn:ue,showScoreNum:zn}):null,_a,Oa?r.createElement(r.Fragment,null,It(fe)):null,La?r.createElement(xn.Z,{score:(null==hn?void 0:hn.goodsScore)||bn,scoreText:null==hn?void 0:hn.goodsScoreText,numTips:(null==hn?void 0:hn.commentNumTips)||yn,showScoreNum:zn,scoreColor:null==hn?void 0:hn.scoreColor,className:Zo().item,pageSn:ue}):null,Wa?r.createElement(uo.Z,{brandTagLogo:kl,brandTagText:bl,className:Zo().item}):null,Fo?r.createElement(So,{className:Zo().item,webpEnable:Ge,imageProcessParam:br,setSkcIndex:ta,currentSkcIndex:ea,setSkcLoading:po,skcList:Uo,commonTrackingInfo:ra,trackingGoodsInfo:oa,skcTrackingInfo:bt,alt:en||qt}):null,!je&&Te?r.createElement(ke.IH,{id:an+"5",title:qt,hidden:!0},r.createElement("div",null,r.createElement(Te,Vo({},e,{onMouseEnter:Do,onMouseLeave:Bo})))):null,je?r.createElement(ke.IH,{id:an+"6",title:qt,hidden:!0},r.createElement(I.ZP,{payload:la},r.createElement("div",{ref:pr},r.createElement("div",{className:Zo().cartPlaceholder}),r.createElement("div",{className:Zo().cartBtn,onClick:ol,onMouseEnter:Do,onMouseLeave:Bo},dr("addCart"))))):null,r.createElement(Xn.H,null,r.createElement(Eo.Z,Vo({},hn,{className:Zo().comment,lazy:_o,webpEnable:Ge}))))})),ea=n(13938);function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function na(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function ra(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){na(a,r,o,l,i,"next",e)}function i(e){na(a,r,o,l,i,"throw",e)}l(void 0)}))}}function oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ta(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var la="hidden",ia="visibilitychange";void 0!==document.webkitHidden&&(la="webkitHidden",ia="webkitvisibilitychange");var sa={serverTime:null,startTime:null,nowTime:null,curTime:function(){return sa.serverTime&&sa.startTime?(sa.nowTime=sa.serverTime+Date.now()-sa.startTime,sa.nowTime):(sa.nowTime=Date.now(),sa.nowTime)},initServerTime:ra((function(){var e;return aa(this,(function(t){switch(t.label){case 0:return[4,(0,ea.I)()];case 1:return e=t.sent(),sa.serverTime=e,sa.startTime=Date.now(),sa.nowTime=Date.now(),[2]}}))}))};"undefined"!=typeof window&&sa.initServerTime();var ca=function(e){var t=e.inline,n=e.max,o=void 0===n?59:n,a=e.parentDom,l=void 0===a?"":a;return t?r.createElement("script",{dangerouslySetInnerHTML:{__html:'(function(){var md=function md(m){if(!m){return}var p=0.84;var s=0.88;var q=6;var t=m.querySelector("[data-type=price]");var g=m.querySelector("[data-type=marketPrice]");var k=m.querySelector("[data-type=discount]");var f=m.querySelector("[data-type=saleTips]");var b=function b(){return{price:(t===null||t===void 0?void 0:t.offsetWidth)||0,marketPrice:(g===null||g===void 0?void 0:g.offsetWidth)||0,discount:(k===null||k===void 0?void 0:k.offsetWidth)||0,saleTips:Math.ceil((f===null||f===void 0?void 0:f.offsetWidth)||0)}};var c=function c(v,u){if(u<=0||v>=1){return""}return"width:".concat(Math.ceil(u*v),"px;-webkit-transform: scale(").concat(v,") translateZ(0);transform:scale(").concat(v,") translateZ(0);-webkit-transform-origin:0 50%;transform-origin:0 50%;")};var n=function n(v,u){if(v<=0||v>1){return u}return Math.ceil(u*v)};var j=function j(v,u){if(v>=1){return 1}return Math.max(v,u)};var a=function a(w){var u=w.saleTips,v=w.marketPrice,x=w.discount;return(v?q:0)+(u?q:0)+(x?q:0)};var l=function l(x){var u=x.saleTips,v=x.marketPrice,w=x.discount;return(v?2:0)+(u?2:0)+(w?2:0)};var e=function e(y){var F=y.width,G=y.price,u=y.saleTips,v=y.marketPrice,w=y.discount;var E=a({saleTips:u,marketPrice:v,discount:w});var D=G+u+v+w+E-F;if(D<=0){return{}}var L=l({saleTips:u,marketPrice:v,discount:w});var B={};var H=1-(D+L)/(v+u+w);var C=j(H,p);var x=n(C,v);var A=n(C,u);var K=n(C,w);B.marketPrice=c(C,v);B.saleTips=c(C,u);B.discount=c(C,w);if(H>=p){return B}var J=G+x+A+K+L+E-F;var z=1-J/G;var I=j(z,s);B.price=c(I,G);if(z>=s){return B}return null};var d=function d(v,w){if(!w||!v){return{}}var D;var x=v.price,B=x===void 0?0:x,u=v.marketPrice,z=u===void 0?0:u,E=v.saleTips,y=E===void 0?0:E,A=v.discount,C=A===void 0?0:A;D=e({width:w,price:B,marketPrice:z,saleTips:y,discount:C});if(D){return D}D=e({width:w,price:B,marketPrice:z,saleTips:y,discount:0});if(D){return D}D=e({width:w,price:B,marketPrice:0,saleTips:y,discount:0});if(D){return D}D=e({width:w,price:B,marketPrice:0,saleTips:0,discount:0});return D||{price:c(s,B)}};var o=function o(u){m.className+=" show";if(u.price&&t){t.style=u.price}if(u.marketPrice&&g){g.style=u.marketPrice}if(u.discount&&k){k.style=u.discount}if(u.saleTips&&f){f.style=u.saleTips}};var r=b();var h=d(r,Math.floor(m.offsetWidth));o(h)};var max='+o+';var parentDom="'+l+'"?document.querySelector("'+l+'"):document;var doms=parentDom===null||parentDom===void 0?void 0:parentDom.querySelectorAll("[data-sales=true]");if((doms===null||doms===void 0?void 0:doms.length)>0){for(var i=0;i<doms.length;i++){if(i>max){break}md(doms[i])}};})();'}}):null},ua=(0,r.memo)(ca),da=n(91851),ma=n(73463),fa=n.n(ma),pa=(n(4256),n(25731),n(14635)),va=n(73800);function ga(e,t,n,r,o,a,l){try{var i=e[a](l),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function ha(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){ga(a,r,o,l,i,"next",e)}function i(e){ga(a,r,o,l,i,"throw",e)}l(void 0)}))}}function ya(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var ba=function(e){document.dispatchEvent(new CustomEvent(Fr,{detail:{data:e}}))},wa=100010043,ka=function(e){var t=e.goodsList,o=(0,r.useRef)(),a=(0,r.useRef)({});(0,r.useEffect)((function(){null==t||t.forEach((function(e){var t=(null==e?void 0:e.data)||{},n=t.goodsId,r=t.currentSkuId;a.current[n]=r}))}),[t]);var l=(0,r.useCallback)(ha((function(e){var t,n,r,o,l;return ya(this,(function(i){switch(i.label){case 0:return t=[],null==e||e.forEach((function(e){var n=a.current[e];n&&t.push({goods_id:+e,show_price_sku_id:n})})),t.length?[4,(0,j.S6)({url:"/api/promotion/goods/discount/info/refresh/query",params:{goods_info_list:t}}).catch((function(e){var n=new Error("updateDiscountPriceError");(0,d.K2)(n,{errorMsg:null==e?void 0:e.message,goodsInfoList:t})}))]:[2];case 1:return n=i.sent(),o=(r=n||{}).cancelDisplayTagMap,l=r.goodsDiscountInfoDisplayTagMap,Object.keys(o||{}).forEach((function(e){var t=(o[e]||{}).goodsPrice,n=(0,we.Ig)(t);ba({goodsId:+e,hasSpecialOffer:!1,showPriceStr:null==n?void 0:n.showPriceStr,priceColor:null==n?void 0:n.priceColor,unitPrefix:null==n?void 0:n.unitPrefix,unitSuffix:null==n?void 0:n.unitSuffix,specialOfferTag:[{endTime:0,text:""}]})})),Object.keys(l||{}).forEach((function(e){var t,n=(null==(t=l[e])?void 0:t[0])||{},r=n.afterDiscountPrice,o=n.endTime,a=n.discountInfoTag,i=(0,we.Ig)(r),s={goodsId:+e,hasSpecialOffer:!0,showPriceStr:null==i?void 0:i.showPriceStr,priceColor:null==i?void 0:i.priceColor,unitPrefix:null==i?void 0:i.unitPrefix,unitSuffix:null==i?void 0:i.unitSuffix,specialOfferTag:[{endTime:o,text:null==a?void 0:a.tagStr}]};ba(s)})),[2]}}))})),[]);return(0,r.useEffect)((function(){var e=ha((function(){var e,t,r,a;return ya(this,(function(i){switch(i.label){case 0:return[4,n.e(4881).then(n.bind(n,73708))];case 1:return e=i.sent(),r=(t=e||{}).Titan,a=t.Unicast,r.usePlugin(a),o.current=new r({url:"wss://"+location.host,appId:10001,projectName:"bui-web-goods-list",bizType:wa}),o.current.on("open",(function(){console.log("bui-web-goods-list:titan open")})),o.current.on("connecting",(function(){console.log("bui-web-goods-list:titan connecting")})),o.current.on("error",(function(){console.log("bui-web-goods-list:titan error"),(0,d.K2)(new Error("buiWebGoodsListTitanError"))})),o.current.on("message",(function(e){var t=e||{},n=t.actionId,r=t.payload;if(console.log("titanPush",n,r),+n===wa){var o=(r||{}).goods_id_list;console.log("onMessage",o),(null==o?void 0:o.length)&&l(o)}})),o.current.connect(),[2]}}))}));(0,pa.J)((0,va.ej)()).then((function(t){t&&e()}))}),[l]),(0,r.useEffect)((function(){var e=[],t=ha((function(t){var n,r;return ya(this,(function(o){switch(o.label){case 0:return(n=((null==t?void 0:t.detail)||{}).goodsId)&&e.push(n),[4,(a=1e3,new Promise((function(e){setTimeout(e,a)})))];case 1:for(o.sent();e.length;)(null==(r=e.splice(0,5))?void 0:r.length)&&l(r);return[2]}var a}))}));return document.addEventListener(Ur,t),function(){document.removeEventListener(Ur,t)}}),[l]),null};function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ea(){return Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(this,arguments)}function Ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var xa=function(e){var t=(0,r.memo)((function(t){var n=(0,r.useRef)({}),o=(0,r.useCallback)((function(e){var t=!1,r=n.current,o=e.map((function(e){var n,o=(null==e||null==(n=e.data)?void 0:n.goodsId)||(null==e?void 0:e.goodsId)||null;if(o){var a;if("number"!=typeof e.cartAmount)return t=!0,Ea({},e,{cartAmount:r[o]||(null==e||null==(a=e.data)?void 0:a.cartAmount)||0});var l=r[o]||0;if((null==e?void 0:e.cartAmount)!==l)return t=!0,Ea({},e,{cartAmount:l})}return e}));return t?o:e}),[]),a=Ta((0,r.useState)(o(t.datasource||[])),2),l=a[0],i=a[1];return function(e){var t=e.setDatasource,n=e.props,o=n||{},a=o.isBackAutoShowSimilar,l=o.isBackAutoShowCategoryCard,i=o.isBackAutoShowRecommendWords,s=o.isBackAutoShowReleatedGoods,c=a||l||i||s;(0,r.useEffect)((function(){if(c){var e=function(){try{if("visible"!==document.visibilityState)return;var e=(0,q.dV)(),r=(0,q.wZ)();if(!(null==e?void 0:e.status)||!(null==e?void 0:e.goods_id))return;var o=e;""+e.goods_id==""+(null==r?void 0:r.goods_id)&&(null==r?void 0:r.unique_id)&&(o.unique_id=r.unique_id),t((function(e){return he(e,o,n)}))}catch(e){}};return window.addEventListener("visibilitychange",e),function(){c&&window.removeEventListener("visibilitychange",e)}}}),[])}({setDatasource:i,props:t}),(0,r.useEffect)((function(){var e=o(t.datasource||[]);i(e)}),[t.datasource]),ka({goodsList:l}),r.createElement(e,Ea({},t,{datasource:l,setDatasource:i}))})),n=e.displayName||e.name;return t.displayName="withCartAmount("+n+")",fa()(t,e),t},Ia=n(80629),Ca=n.n(Ia);function Na(){return Na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Na.apply(this,arguments)}function Pa(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var _a=xa((0,r.memo)((function(e){var t,n,o,c,u,d=e.pageSn,m=e.pageElSn,f=e.isMainGoods,p=void 0!==f&&f,v=e.cartScene,g=e.rowNum,h=e.loadMode,y=e.className,b=void 0===y?"":y,w=e.pageGoodsNum,k=void 0===w?20:w,S=e.title,E=e.datasource,T=e.setDatasource,x=e.canAddToCart,I=void 0===x||x,C=e.CustomGoodsBtn,N=e.useCartBtn,P=e.forwardGoodsParams,_=e.openGoodsWithNewTab,A=e.openRecommendWordsWithNewTab,W=e.beforeClickCart,L=e.onGoodsClick,O=e.onQuickLookClick,M=e.onAddCartClick,R=e.onSkuPanelClose,D=e.onSkuPanelSuccess,j=e.hasMore,G=e.language,z=e.isShowSkc,B=e.isShowSimilar,Z=e.isShowRecommendWords,U=e.isBackAutoShowSimilar,F=e.isShowReleatedGoods,H=e.isShowBillboardTip,q=e.billboardTipProps,V=e.isBackAutoShowRecommendWords,Q=e.isBackAutoShowCategoryCard,K=e.isBackAutoShowReleatedGoods,Y=e.webpEnable,J=e.grayConfig,X=e.cardWidth,$=e.useGlobalAutoFitListClassName,ee=void 0===$||$,te=e.listClassName,ne=e.goodsCardClassName,re=e.quickLook,oe=e.startLazyIndex,ae=e.imageRootMargin,le=e.showDiscountOnName,ie=e.isOpenSaleInfoScale,se=void 0===ie||ie,ce=e.saleInfoInlineScript,ue=e.saleInfoInlineScriptConfig,de=e.isShowHoverImage,me=void 0===de||de,fe=e.skuParams,pe=void 0===fe?{}:fe,ve=e.skuOptions,ge=void 0===ve?{}:ve,he=e.goodsNameTag,ye=e.hoverTheme,be=void 0===ye?da.P.DEFAULT:ye,Se=e.isShowComment,Ee=void 0===Se||Se,Te=e.isShowProcess,xe=e.processTrackingInfo,Ie=void 0===xe?{}:xe,Ce=e.commonGoodsTrackingInfo,Ne=void 0===Ce?{}:Ce,Pe=e.skcTrackingInfo,_e=void 0===Pe?{}:Pe,Ae=e.recommendWordsTrackingInfo,We=void 0===Ae?{}:Ae,Le=e.showMarketInfo,Oe=e.classConfig,Me=e.showSavePrice,Re=e.renderTopTips,De=e.renderBottomTips,je=e.renderTags,Ge=e.renderTagsBeforePrice,ze=e.userAgent,Be=e.goodsConfig,Ze=(e.serverTime,e.renderCustomizeTags),Ue=e.listId,Fe=e.emageProgress,He=e.hiddenTooltipItem,qe=Pa(e,["pageSn","pageElSn","isMainGoods","cartScene","rowNum","loadMode","className","pageGoodsNum","title","datasource","setDatasource","canAddToCart","CustomGoodsBtn","useCartBtn","forwardGoodsParams","openGoodsWithNewTab","openRecommendWordsWithNewTab","beforeClickCart","onGoodsClick","onQuickLookClick","onAddCartClick","onSkuPanelClose","onSkuPanelSuccess","hasMore","language","isShowSkc","isShowSimilar","isShowRecommendWords","isBackAutoShowSimilar","isShowReleatedGoods","isShowBillboardTip","billboardTipProps","isBackAutoShowRecommendWords","isBackAutoShowCategoryCard","isBackAutoShowReleatedGoods","webpEnable","grayConfig","cardWidth","useGlobalAutoFitListClassName","listClassName","goodsCardClassName","quickLook","startLazyIndex","imageRootMargin","showDiscountOnName","isOpenSaleInfoScale","saleInfoInlineScript","saleInfoInlineScriptConfig","isShowHoverImage","skuParams","skuOptions","goodsNameTag","hoverTheme","isShowComment","isShowProcess","processTrackingInfo","commonGoodsTrackingInfo","skcTrackingInfo","recommendWordsTrackingInfo","showMarketInfo","classConfig","showSavePrice","renderTopTips","renderBottomTips","renderTags","renderTagsBeforePrice","userAgent","goodsConfig","serverTime","renderCustomizeTags","listId","emageProgress","hiddenTooltipItem"]),Ve=(0,i.$)("bec-fe.bui-web-goods-list").i18n,Qe=!!(null==J||null==(t=J.cp66043)?void 0:t.value),Ke=(0,r.useMemo)((function(){return(0,l.x)(10)}),[]);u=Date.now();var Ye,Je,Xe,$e,et,tt,nt,rt,ot,at,lt,it,st,ct,ut,dt,mt,ft,pt=(0,r.useCallback)((function(e){var t=e.index,n=e.data,o=n.data,a=Pa(n,["data"]);return r.createElement($o,Na({pageSn:d,pageElSn:m,isMainGoods:p,cartScene:v,key:o.goodsId},a,{index:t,canAddToCart:I,goodsInfo:o,skuParams:pe,skuOptions:ge,CustomGoodsBtn:C,useCartBtn:N,language:G,showDiscountOnName:le,forwardGoodsParams:P,openGoodsWithNewTab:_,openRecommendWordsWithNewTab:A,beforeClickCart:W,onGoodsClick:L,onQuickLookClick:O,onAddCartClick:M,onSkuPanelClose:R,onSkuPanelSuccess:D,webpEnable:Y,isShowComment:Ee,isShowSkc:z,isShowSimilar:B,isShowRecommendWords:Z,isShowReleatedGoods:F,isShowBillboardTip:H,billboardTipProps:q,grayConfig:J,quickLook:re,startLazyIndex:oe,imageRootMargin:ae,isBackAutoShowSimilar:U,isOpenSaleInfoScale:se,isShowHoverImage:me,isShowProcess:Te,processTrackingInfo:Ie,goodsNameTag:he,hoverTheme:be,isBackAutoShowCategoryCard:Q,isBackAutoShowRecommendWords:V,isBackAutoShowReleatedGoods:K,commonGoodsTrackingInfo:Ne,skcTrackingInfo:_e,recommendWordsTrackingInfo:We,showMarketInfo:Le,classConfig:Oe,setDatasource:T,showSavePrice:Me,renderTopTips:Re,renderBottomTips:De,renderTags:je,renderTagsBeforePrice:Ge,userAgent:ze,goodsConfig:Be,serverTime:u,rowNum:g,renderCustomizeTags:Ze,listId:Ue,showMillisecond:Qe,emageProgress:Fe,privateListId:Ke}))}),[v,me,Fe,Ke]),vt=(null==E?void 0:E.length)||0,gt=(0,r.useMemo)((function(){return j&&g&&vt>g?vt%g:0}),[j,vt,g]),ht=($e=(Je={accuracy:Qe?100:1e3}).accuracy,et=void 0===$e?1e3:$e,tt=Je.startCount,nt=void 0===tt||tt,rt=oa((0,r.useState)(Date.now()),2),ot=rt[0],at=rt[1],lt=oa((0,r.useState)(!1),2),it=lt[0],st=lt[1],ct=(0,r.useCallback)((function(){!it&&nt&&(Xe=setInterval((function(){if(!document[la]||"hidden"!==document.visibilityState){var e=sa.curTime();at(e)}}),et),st(!0))}),[it,et]),ut=function(){document[la]&&"visible"!==document.visibilityState?(window.clearInterval(Xe),st(!1)):ct()},(0,r.useEffect)((function(){return!it&&nt&&(ct(),document.addEventListener(ia,ut)),function(){Xe&&window.clearInterval(Xe),nt&&document.removeEventListener(ia,ut)}}),[et,nt]),ot),yt=(null==(Ye=h&&"manual"!==h||!g?E:gt?E.slice(0,vt-gt):E)?void 0:Ye.length)>0&&((null==(n=Ye[0])?void 0:n.priceInfo)||(null==(c=Ye[0])||null==(o=c.data)?void 0:o.priceInfo)),bt=(null==ue?void 0:ue.jsClassName)||"js-goods-list",wt=void 0!==ce?ce:(null==yt?void 0:yt.currency)&&(0,we.Vq)(yt.currency,null==Ve?void 0:Ve.resolvedLanguage);return r.createElement(ke.u,{className:a()(b,(dt={},mt=bt,ft=se&&wt,mt in dt?Object.defineProperty(dt,mt,{value:ft,enumerable:!0,configurable:!0,writable:!0}):dt[mt]=ft,dt)),hidden:He},S?r.createElement("div",{className:Ca().title},S):null,j&&!(null==Ye?void 0:Ye.length)?r.createElement("div",{className:a()(Ca().autoFitList,te,{autoFitList:ee}),role:"region"},new Array(k).fill(0).map((function(e,t){return r.createElement("div",{className:a()(Ca().cardWrap,ne),style:{width:X,padding:9},key:t},r.createElement(_t.Z,{useCartBtn:N}))}))):r.createElement(s.Provider,{value:{nowTime:ht}},r.createElement(Pt,Na({wrapperClass:a()(Ca().autoFitList,te,{autoFitList:ee}),goodsCardClassName:ne,itemKey:"goodsId",renderItem:pt,ssrRenderLength:k,datasource:Ye,hasMore:j,loadMode:h,itemWidth:X,useItemWrap:!(null==qe?void 0:qe.renderItem),useGoodsFilter:!(null==qe?void 0:qe.renderItem)},qe,{pageSn:d,listId:Ue}))),r.createElement(ua,{inline:se?wt:null,parentDom:"."+bt,max:(null==ue?void 0:ue.max)||60}))})))},40600:function(e,t,n){"use strict";var r=n(87184),o=n(72779),a=n.n(o),l=n(58317),i=n(33575),s=n.n(i),c=function(e){var t=e.className,n=e.style,o=e.useCartBtn;return r.createElement("div",{className:a()(s().goodsSkeletonWrapper,t),style:n},r.createElement(l.Z,{HWRatio:1},r.createElement("div",{className:s().goodsSkeletonImgContainer},r.createElement("div",{className:a()(s().skeletonImgContainer,s().mask)}))),r.createElement("div",{className:a()(s().name,s().mask)}),r.createElement("div",{className:s().price},r.createElement("div",{className:a()(s().priceLeft,s().mask)}),r.createElement("div",{className:a()(s().priceRight,s().mask)})),!!o&&r.createElement("div",{className:a()(s().cartBtn,s().mask)}))};t.Z=(0,r.memo)(c)},2793:function(e,t,n){"use strict";var r=n(87184),o=n(72779),a=n.n(o),l=n(54611),i=n(12644),s=n.n(i),c=function(e){var t=e.comment,n=e.avatar,o=e.className,i=e.style,c=e.lazy,u=e.webpEnable;return t&&n?r.createElement("div",{className:a()(s().container,o),style:i},r.createElement("div",{className:s().content,tabIndex:0},r.createElement("div",{className:s().avatarImage},r.createElement(l.ZP,{lazy:c,src:n,className:s().avatar,"aria-hidden":!0,alt:t,processParam:{resizeWidth:57,webpEnable:u}})),t)):null};t.Z=(0,r.memo)(c)},7767:function(e,t,n){"use strict";var r=n(87184),o=n(72779),a=n.n(o),l=n(41776),i=n.n(l),s=function(e){var t=e.className,n=e.marketPrice,o=e.discount,l=e.prefix;return n&&o?r.createElement("div",{className:a()(i().container,t)},r.createElement("div",{className:i().marketPrice},l||"",n),r.createElement("div",{className:i().discount},o)):null};t.Z=(0,r.memo)(s)},63026:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});n(69632),n(87246),n(80978),n(11183);var r="aimg.kwcdn.com",o="https://";function a(e,t){return void 0===e&&(e=""),void 0===t&&(t=r),""+o+t+e}},40846:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r,o=n(23075),a=n(77024),l=n(1345),i=function(){return void 0===r&&(r="1"===(0,l.ej)().webp),r};function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function c(e,t){if(e){var n=i();t="boolean"==typeof t?t:n,(new Image).src=(0,o.FT)(e,s({},a.N9,{webpEnable:t})),(new Image).src=(0,o.FT)(e,s({},a.px,{webpEnable:t}))}}},33804:function(e,t,n){"use strict";var r=n(87184),o=n(72779),a=n.n(o),l=n(94872),i=n(27326),s=n(65522),c=n(98055),u=n.n(c);function d(e){var t=e.className,n=e.show,o=e.text,c=e.onClick,d=e.trackingInfo,m=(0,l.$)("bec-fe.web-ui",{keyPrefix:"LoadMore"}).t;return n?r.createElement(i.Z,d,r.createElement("div",{className:a()(u().wrap,t),onClick:c},r.createElement("span",{className:u().text},o||m("More")),r.createElement(s.M8,{className:u().arrow,width:"12px"}))):null}d.defaultProps={show:!1},t.Z=(0,r.memo)(d)},4790:function(e,t,n){"use strict";n.d(t,{V:function(){return f}});var r=n(87184),o=n(72779),a=n.n(o),l=n(98809),i=n(71547),s=n(86675),c=n.n(s);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,r.memo)((function(e){var t=e.className,n=e.contentClassName,o=e.children,s=e.type,u=void 0===s?"default":s,f=e.maxWidth,p=void 0===f?"none":f,v=e.clickable,g=void 0!==v&&v,h=e.breakWord,y=void 0!==h&&h,b=e.size,w=void 0===b?"sm":b,k=e.style,S=e.icon,E=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["className","contentClassName","children","type","maxWidth","clickable","breakWord","size","style","icon"]),T=m((0,r.useState)(!1),2),x=T[0],I=T[1],C=r.createElement(l.Z,{className:c().iconArrow}),N="gray"===u,P=(0,r.useMemo)((function(){return N&&"lg"===w}),[N,w]),_=(0,r.useMemo)((function(){return!(!P||x)}),[P,x]);return r.createElement("div",d({className:a()(c().tag,N&&c().gray,g&&c().clickable,"lg"===w&&c().lg,_&&c().hideTag,t),style:d({maxWidth:p},k)},E),r.createElement("span",{className:a()(c().content,y&&c().breakWord,n)},P?r.createElement(i._,{adapterScale:function(e){return I(!0),(null==e?void 0:e.isScale)?{fontSize:13,lineHeight:"15px"}:{}}},o):r.createElement(r.Fragment,null,o)),!(!g&&!S)&&r.createElement("span",{className:c().icon},S||C))}))}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/5285_51b02260d2b159dd97b0.js.map