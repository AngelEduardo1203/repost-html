(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9536],{60564:function(t,e,n){"use strict";n.r(e),n.d(e,{ComponentContext:function(){return k},ComponentProvider:function(){return R},createComponentStore:function(){return j},useComponentStore:function(){return A}});n(44936),n(96391),n(87246),n(44718),n(69460),n(17385),n(92374),n(91560),n(16120),n(31002),n(60452),n(23395),n(80978),n(11183),n(93801),n(78529);var r=n(72616),o=n(35457),i=n(65362),l=n(90254),u=n(73366),s=n(67766),c=n(4223),a=n(12361),f=n(95239),d=n(19126),p=n(88578),m=n(77302),v=n(37847),y=n(88882),h=n(91570),g=n(55406);function I(t,e){return I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},I(t,e)}var _=function(t){function e(){return t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,t),e}(y.Y),b=n(13693);function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e,n,r,o,i,l){try{var u=t[i](l),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function L(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function l(t){T(i,r,o,l,u,"next",t)}function u(t){T(i,r,o,l,u,"throw",t)}l(void 0)}))}}function P(){return P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P.apply(this,arguments)}function w(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){var n,r,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var S=(0,h.fz)((function(t){var e={nodeCommon:{},context:{},$service:{},goodsList:[],recommendGoodsList:[],offset:0,hasMore:!0,status:g.sB.EMPTY,limit:20,isShowViewMore:!1,isShowPolicy:!1,filterList:[],selectedFilter:[],isFilterDataLoaded:!1,hoverObj:{text:"",x:-100,y:0},categoryList:[],optId:"",vrParams:{cmmDsId:"",secOptId:"",title:"",recPoolId:""},listId:(0,o.x)(),isVrDs:!1,activityName:"",disableItemList:[],linkUrl:"",hasFirstReqLoaded:!1};return(0,p.M)()((0,i.n)((function(n,i){return P({},e,t,{setHoverText:function(t,e,r){n((function(n){n.hoverObj={text:t,x:e,y:r}}))},setIsVrDs:function(t){n((function(e){e.isVrDs=t}))},setGoodsList:function(t){n((function(e){e.goodsList=t}))},initService:function(){n((function(t){t.$service=new _(i().context.$axiosHttp)}))},getInitialProps:L((function(t){var e,o,l,u,s,c,a,f,d,p;return O(this,(function(m){switch(m.label){case 0:return e=t.isServer,o=i(),l=o.initService,u=o.nodeCommon.props,s=o.goodsList,c=o.queryGoodsList,a=o.setVrParams,f=o.setIsVrDs,o.__innerGlobalStore,l(),(d=u.dsId)!==y.y.VR002&&d!==y.y.VR001||(f(!0),a()),(null==s?void 0:s.length)?[3,2]:[4,c(e)];case 1:m.sent(),m.label=2;case 2:return n((function(t){t.hasFirstReqLoaded=!0})),p=i().status,e||p!==g.sB.FAILED||u.goodsEmpty!==g.mY.GO_DEFAULT||(0,r.r1)({errorType:r.RN.GOODS_EMPTY}),[2]}}))})),setVrParams:function(){var t,e,r,o=((null!=(r=null==(e=i())||null==(t=e.__innerGlobalStore)?void 0:t.getState())?r:{}).sysInfo||{}).query;n((function(t){t.vrParams={cmmDsId:null==o?void 0:o.cmm_ds_id,secOptId:null==o?void 0:o.sec_opt_id,title:null==o?void 0:o.view_all_title,recPoolId:null==o?void 0:o.pool_id}}))},queryGoodsList:L((function(t){var e,r,o,a,p,y,h,I,_,x,T,L,S,k,R,A,j,D,C,E,G,q,U,F,B,M,N,V,Y,$,z,H,K,W,Z,Q,J,X,tt,et,nt,rt,ot,it,lt,ut,st,ct,at,ft,dt,pt,mt,vt,yt,ht,gt,It,_t,bt,xt,Tt,Lt,Pt,wt;return O(this,(function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),r=i(),o=r.offset,a=r.status,p=r.nodeCommon,y=p.props,h=p.customName,I=p.pageBase,_=p.sysInfo,x=r.$service,T=r.context,L=r.vrParams,S=r.listId,k=r.isVrDs,R=y.limit,A=void 0===R?g.UZ:R,j=y.dsId,D=y.card,C=y.type,E=y.optRecType,G=y.activityName,q=y.poolId,U=y.skipPageTitle,F=y.manualTopGoods,B=(null==(e=(0,l.hb)(T))?void 0:e.leoProxyInfo)||{},M=(null==B?void 0:B.tmpl)?(0,f.ru)(P({},B),"https://www.temu.com/kuiper/"+(null==B?void 0:B.tmpl)+".html"):"",N=M?{penetrateParams:{tt_referer:M}}:{},a===g.sB.PENDING?[2]:(V=P({dsId:j,offset:o,limit:A,listId:S,goodsCardItemType:null==D?void 0:D.cardType,recPoolId:q,manualTopGoods:F,goodsPoolParam:q?{poolId:q,title:U||"",cmmDsId:j}:U?{title:U}:void 0},N),G&&(V.activityName=G),k&&(V=P({},V,{dsId:null==L?void 0:L.cmmDsId,secOptId:null==L?void 0:L.secOptId,recPoolId:null==L?void 0:L.recPoolId})),C===g.oY.TAB_NEW&&(V.optRecType=E,V.useCondition=!1,V.needCategoryRec=!0,$=u.jU?window.location.search:null==T||null==(Y=T.__req)?void 0:Y.originalUrl,z=(0,d.parse)($,{ignoreQueryPrefix:!0}),V.optId=z.optId||"",V.optType=z.optType||"",n((function(t){t.optId=z.optId||""}))),g.oY.FILTER===C&&(V.useCondition=!0,V.needCategoryRec=C===g.oY.FILTER,Z=u.jU?null==(K=window)||null==(H=K.location)?void 0:H.search:null==T||null==(W=T.__req)?void 0:W.originalUrl,Q=(0,d.parse)(Z,{ignoreQueryPrefix:!0}),V.filterItems=Q.filterItems||"",V.optId=Q.optId||"",V.optType=Q.optType||"",J=Q.activity_name||"",n((function(t){t.optId=Q.optId||"",t.activityName=J}))),n((function(t){t.status=g.sB.PENDING})),[4,x.fetchGoodsList(V)]);case 1:for(X=O.sent(),tt=X.kpDsItemList,et=X.filterRegion,nt=X.categoryRecResult,rt=X.hasMore,ot=X.message,X.subTabList,it=X.linkUrl,lt=X.disableItemList,ut=0,st=tt||[];ut<st.length;ut++)if(null==(ct=st[ut])?void 0:ct.commonRecGoods){dt=null==T||null==(ft=T.__req)||null==(at=ft.app)?void 0:at.logger,pt=ct.commonRecGoods,mt=pt.priceInfo,yt=(vt=void 0===mt?{}:mt).marketPriceText,ht=vt.reductionText,gt=!Array.isArray(yt),It=!Array.isArray(ht),_t="{}";try{_t=JSON.stringify({market_price_text:void 0===yt?"undefined":yt,reduction_text:void 0===ht?"undefined":ht})}catch(t){_t="{}"}t&&(gt||It)?null==dt||dt.info("ds_market_or_reduction_price_text_is_not_array",{logValue:_t,req:null==T?void 0:T.__req}):u.jU&&(gt||It)&&(0,b.A)("ds_market_or_reduction_price_text_is_not_array",{customTags:{data:_t}})}if(nt&&(bt=(0,s.nI)(T).t,n((function(t){t.categoryList=[{optName:bt("masonry.recommended"),optId:"",optType:""}].concat((null==nt?void 0:nt.optList)||[])}))),et&&n((function(t){var e,n,r;t.isFilterDataLoaded=!0;var o,i=[];null==et||null==(n=et.rankSorter)||null==(e=n.filters)||e.forEach((function(t){Object.assign(t,{isSection:!0}),(null==t?void 0:t.selected)&&i.push(t)})),t.selectedFilter=i.concat(et.selectedFilter);var l=null!=(o=null==et||null==(r=et.innerFilter)?void 0:r.filterList)?o:[];t.filterList=l.map((function(t){var e=t.filters,n=void 0===e?[]:e,r=t.viewMore,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,["filters","viewMore"]),i=n.map((function(t){return t.selected})).lastIndexOf(1)+1,l=Math.ceil(Math.max(.1,i)/r);return P({},o,{viewMore:r,filters:n.slice(0,l*r),$filters:n.slice(l*r)})}))})),!(null==tt?void 0:tt.length)&&![g.oY.FILTER].includes(C))throw new Error(ot||(0===o?"first screen goods empty":"queryGoodsList error"));return n((function(t){t.disableItemList=lt||[],t.goodsList=w(0==o?[]:t.goodsList).concat(w((0,v.yq)(tt,{cardTrackingInfo:{card_type:m.mq.CARD_DEFAULT,custom_name:h},pageBase:I,sysInfo:_}))),t.offset+=A;var e=t.nodeCommon.props,n=e.limitMode,r=e.type,i=n===g.yx.LIMITED&&r===g.oY.NORMAL;t.hasMore=!i&&!!rt,it&&(t.linkUrl=it)})),n((function(t){t.status=g.sB.DONE})),[3,3];case 2:return xt=O.sent(),wt=!!(null==(Pt=i())||null==(Lt=Pt.nodeCommon)||null==(Tt=Lt.pageBase)?void 0:Tt.isBot),u.jU?(n((function(t){t.hasMore=!1,t.status=g.sB.FAILED})),wt||(0,c.HG)(xt)):n((function(t){t.status=g.sB.DONE})),[3,3];case 3:return[2]}}))})),onFilterItemClick:function(t,e,r){var l=t.filter,u=t.isSection;n((function(t){t.offset=0,t.listId=(0,o.x)();var n=[];t.filterList.forEach((function(t){var o=t.filters,i=t.multi;o.forEach((function(t){t.filter===l?(t.selected=e&&r?1:t.selected?0:1,t.minPrice=e,t.maxPrice=r):(0===i||t.isSection&&u)&&(t.selected=0);var o=t.filter,s=t.minPrice,c=t.maxPrice,a=t.name,f="Z104:"===t.filter&&s&&c;t.selected&&n.push({filter:f?""+o+s+","+c:o,name:a,selected:1})}))})),t.selectedFilter=n}));var s=i().selectedFilter.map((function(t){return t.filter})).join("|");(0,a.qz)({filterItems:s}),i().queryGoodsList()},reset:function(t){var e=i().selectedFilter,r=t?e.filter((function(e){var n=e.filter;return n!==t&&0!==n.indexOf(t)})):[];n((function(t){t.selectedFilter=r,t.offset=0,t.listId=(0,o.x)()}));var l=r.map((function(t){return t.filter})).join("|");(0,a.qz)({filterItems:l}),i().queryGoodsList()},appendFilterList:L((function(t){var e;return O(this,(function(r){return e=t.identifier,n((function(t){t.filterList.forEach((function(t){var n=t.identifier,r=t.filters,o=t.$filters,i=t.viewMore;e===n&&(t.filters=r.concat(null==o?void 0:o.slice(0,i)),t.$filters=null==o?void 0:o.slice(i))}))})),[2]}))}))})})))})),k=S.ComponentContext,R=S.ComponentProvider,A=S.useComponentStore,j=S.createComponentStore},20407:function(t,e,n){"use strict";n.d(e,{Ig:function(){return s},pt:function(){return a},yq:function(){return c}});n(17385),n(91560),n(60452),n(23395),n(1205),n(67904),n(87246);var r=n(91851),o=n(97852),i=n(95239),l=n(7872);function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}var s=function(t,e){void 0===e&&(e="");var n=t||{},r=n.priceStr,o=n.priceText,i=n.marketPriceText,l=n.reductionText,u=n.appPromotionPriceText,s=n.appPromotionReductionText;return{showPriceStr:(o?o[1]:r)||e,unitPrefix:o?o[0]:"",unitSuffix:o?o[2]:"",showMarketPriceStr:i&&i.length?i.join(""):"",reductionText:l,showAppPromotionPriceText:u&&u.length?u.join(""):"",showPromotionReductionText:s&&s.length?s.join(""):""}},c=function(t,e){void 0===t&&(t=[]);var n=function(t){return null==t?void 0:t.some((function(t){var e,n,r,o;return(null==t||null==(n=t.commonRecGoods)||null==(e=n.image)?void 0:e.width)!==(null==t||null==(o=t.commonRecGoods)||null==(r=o.image)?void 0:r.height)}))}(t);return t.map((function(t,s){var c,a,f,d,p,m,v,y,h,g=t.commonRecGoods,I=t.dsItemType,_=t.image,b=g||{},x=b.pRec,T=b.pSearch,L=b.ad,P=b.mRec,w=b.mTrc,O=b.linkUrl,S=b.seoLinkUrl,k=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(b,["pRec","pSearch","ad","mRec","mTrc","linkUrl","seoLinkUrl"]);return{type:r.i.NORMAL_GOODS,index:s,data:u({cardTrackingInfo:null!=(h=null==e?void 0:e.cardTrackingInfo)?h:{},dsItemType:I,allLongImage:n,themeCard:_,pRec:(0,o.or)(x),pSearch:(0,o.or)(T),ad:(0,o.or)(L),mRec:(0,o.or)(P),mTrc:(0,o.or)(w)},k,{linkUrl:(0,l.Y7)((null==e||null==(c=e.sysInfo)?void 0:c.userAgent)||"")&&(null==e||null==(a=e.pageBase)?void 0:a.tmpl)&&["dk3","dk8"].includes(null==e||null==(f=e.pageBase)?void 0:f.tmpl)?(0,i.ru)({r_pid:null==e||null==(d=e.pageBase)?void 0:d.subj,r_idx:s},O):O,seoLinkUrl:(0,l.Y7)((null==e||null==(p=e.sysInfo)?void 0:p.userAgent)||"")&&(null==e||null==(m=e.pageBase)?void 0:m.tmpl)&&["dk3","dk8"].includes(null==e||null==(v=e.pageBase)?void 0:v.tmpl)?(0,i.ru)({r_pid:null==e||null==(y=e.pageBase)?void 0:y.subj,r_idx:s},S):S})}}))},a=function(t){return"string"!=typeof t?t:(t.startsWith("http")||t.startsWith("/")||(t="/"+t),t.split("?")[0])}},37847:function(t,e,n){"use strict";n.d(e,{Ig:function(){return r.Ig},T9:function(){return o.T9},pt:function(){return r.pt},yq:function(){return r.yq}});var r=n(20407),o=n(31879)},31879:function(t,e,n){"use strict";n.d(e,{T9:function(){return u},zy:function(){return l}});var r=n(97852),o=n(29400);function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i.apply(this,arguments)}var l=function(t,e){return t?{m_rec:(0,r.or)(t.mRec),p_rec:(0,r.or)(t.pRec),ad:(0,r.or)(t.ad),p_search:(0,r.or)(t.pSearch),m_trc:(0,r.or)(t.mTrc)}:{}},u=function(t){var e,n=t.data,u=t.index;return i({custom_name:(0,o.CA)((function(t){return t.nodeInfo})).customName},function(t,e){return i({idx:e,goods_id:null==t?void 0:t.goodsId,card_type:null==t?void 0:t.dsItemType},l(t,e))}(n,u),(0,r.At)(null!=(e=null==n?void 0:n.tracking)?e:{}))}},88882:function(t,e,n){"use strict";var r;n.d(e,{Y:function(){return l},y:function(){return r}}),function(t){t.G006="g006",t.G008="g008",t.CAT002="cat002",t.G020="g020",t.VR002="vr002",t.VR001="vr001",t.G040="g040",t.SC002="sc002",t.REC001="rec001"}(r||(r={}));var o=n(37272);function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}var l=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).fetchGoodsList=function(t){return e.post({url:o.vh.KP_DS,params:t}).then((function(t){return(null==t?void 0:t.result)||{}})).catch((function(t){return t}))},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,t),e}(n(45309).m)},67766:function(t,e,n){"use strict";n.d(e,{nI:function(){return i}});n(2778),n(5127),n(17385),n(80417),n(40812),n(87246),n(21295),n(60647),n(21531),n(91560);var r=n(73366),o=n(63394);n(89166),n(87184),n(21725);function i(t){return r.jU?o.ZP:null==t||null==(e=t.__req)?void 0:e.i18n;var e}},35457:function(t,e,n){"use strict";n.d(e,{x:function(){return r}});var r=(0,n(52645).kP)("abcdefghijklmnopqrstuvwxyz",10)},53260:function(){}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/9536_522990a6120bc66e1adb.js.map